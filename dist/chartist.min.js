/* Chartist.js 0.11.10
 * Copyright Â© 2020 Gion Kunz
 * Free to use under either the WTFPL license or the MIT license.
 * https://raw.githubusercontent.com/gionkunz/chartist-js/master/LICENSE-WTFPL
 * https://raw.githubusercontent.com/gionkunz/chartist-js/master/LICENSE-MIT
 */

!function(a,b){"function"==typeof define&&define.amd?define("Chartist",[],function(){return a.Chartist=b()}):"object"==typeof module&&module.exports?module.exports=b():a.Chartist=b()}(this,function(){!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.KldIntersections={}))}(this,function(a){"use strict";function b(a){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b&&d(a.prototype,b),c&&d(a,c),a}function f(a,b){return i(a)||k(a,b)||l(a,b)||o()}function g(a){return h(a)||j(a)||l(a)||n()}function h(a){if(Array.isArray(a))return m(a)}function i(a){if(Array.isArray(a))return a}function j(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function k(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function l(a,b){if(a){if("string"==typeof a)return m(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?m(a,b):void 0}}function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(a){if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(a=l(a))){var b=0,c=function(){};return{s:c,n:function(){return b>=a.length?{done:!0}:{done:!1,value:a[b++]}},e:function(a){throw a},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,e,f=!0,g=!1;return{s:function(){d=a[Symbol.iterator]()},n:function(){var a=d.next();return f=a.done,a},e:function(a){g=!0,e=a},f:function(){try{f||null==d["return"]||d["return"]()}finally{if(g)throw e}}}}function q(a){return"number"==typeof a?a?a<0?-1:1:a===a?a:NaN:NaN}function r(a,b,c,d,e,f,g){e=e*Math.PI/180;var h=Math.cos(e),i=Math.sin(e),j=1e-6,k=a.subtract(b).multiply(.5),l=k.x*h+k.y*i,m=k.x*-i+k.y*h;c=Math.abs(c),d=Math.abs(d);var n=l*l,o=m*m,p=n/(c*c)+o/(d*d);if(p>1){var q=Math.sqrt(p);c*=q,d*=q}var r=c*c,s=d*d,t=r*o,u=s*n,v=(r*s-t-u)/(t+u);Math.abs(v)<j&&(v=0);var w=Math.sqrt(v);f===g&&(w=-w);var x=a.add(b).multiply(.5),y=w*c*m/d,z=w*-d*l/c,A=(l-y)/c,C=(l+y)/c,D=(m-z)/d,E=(m+z)/d,F=new B(1,0).angleBetween(new B(A,D)),G=new B(A,D).angleBetween(new B((-C),(-E)));return g===!1&&(G-=I),[y*h-z*i+x.x,y*i+z*h+x.y,c,d,F,F+G]}function s(a,b){var c,d=[],e=p(a);try{for(e.s();!(c=e.n()).done;){var g=f(c.value,2),h=g[0],i=g[1],j=null;if("Point2D"===i)j=u(h,b);else if("Number"===i)j=t(h,b);else if("Array<Point2D>"===i||"Point2D[]"===i){for(var k=[];b.length>0;)k.push(u(h,b));k.length>0&&(j=k)}else{if("Optional<Number>"!==i&&"Number?"!==i)throw new TypeError("Unrecognized value type: ".concat(i));j=t(h,b),null===j&&(j=void 0)}if(null===j)throw new TypeError("Unable to extract value for ".concat(h));d.push(j)}}catch(l){e.e(l)}finally{e.f()}return d}function t(a,c){var d=null;if(c.length>0){var e=c[0],f=b(e);if("number"===f)return c.shift();if("object"===f){var g,h=p(a);try{for(h.s();!(g=h.n()).done;){var i=g.value;if(i in e&&"number"==typeof e[i]){d=e[i];break}}}catch(j){h.e(j)}finally{h.f()}}}return d}function u(a,c){var d=null;return c.length>0&&!function(){var e=c[0],g=b(e);if("number"===g){if(c.length>1){var h=c.shift(),i=c.shift();d=new A(h,i)}}else if(Array.isArray(e)&&e.length>1){if(2!==e.length)throw new TypeError("Unhandled array of length ".concat(e.length));var j=c.shift(),k=f(j,2),l=k[0],m=k[1];d=new A(l,m)}else if("object"===g)if("x"in e&&"y"in e)d=new A(e.x,e.y),c.shift();else{var n,o=p(a);try{for(o.s();!(n=o.n()).done;){var q=n.value;if(Array.isArray(q)){if(q.every(function(a){return a in e})){d=new A(e[q[0]],e[q[1]]);break}}else if(q in e){d=u([],[e[q]]);break}}}catch(r){o.e(r)}finally{o.f()}}}(),d}function v(a){return null===a||void 0===a}function w(a,b){var c=a[0]*b[1]-b[0]*a[1],d=a[0]*b[2]-b[0]*a[2],e=a[0]*b[3]-b[0]*a[3],f=a[0]*b[4]-b[0]*a[4],g=a[0]*b[5]-b[0]*a[5],h=a[1]*b[2]-b[1]*a[2],i=a[1]*b[4]-b[1]*a[4],j=a[1]*b[5]-b[1]*a[5],k=a[2]*b[3]-b[2]*a[3],l=a[3]*b[4]-b[3]*a[4],m=a[3]*b[5]-b[3]*a[5],n=j+l,o=i-k;return new D(c*h-d*d,c*o+e*h-2*d*f,c*n+e*o-f*f-2*d*g,c*m+e*n-2*f*g,e*m-g*g)}function x(a){var b=a%O;return b<0?b+O:b}function y(a,b,c,d,e,f){if(0===a.points.length)return a;var g=new Q("No Intersection");if(f<e){var h=[f,e];e=h[0],f=h[1]}(e<0||f<0)&&(e+=O,f+=O);var i,j=p(a.points);try{for(j.s();!(i=j.n()).done;){var k=i.value,l=x(P.angleBetween(B.fromPoints(b,k)));l<e&&(l+=O),e<=l&&l<=f&&g.appendPoint(k)}}catch(m){j.e(m)}finally{j.f()}return g.points.length>0&&(g.status="Intersection"),g}function z(a){var b=a.slice();return b.push(a[0]),b}var A=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,a),this.x=b,this.y=d}return e(a,[{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"add",value:function(a){return new this.constructor(this.x+a.x,this.y+a.y)}},{key:"subtract",value:function(a){return new this.constructor(this.x-a.x,this.y-a.y)}},{key:"multiply",value:function(a){return new this.constructor(this.x*a,this.y*a)}},{key:"divide",value:function(a){return new this.constructor(this.x/a,this.y/a)}},{key:"equals",value:function(a){return this.x===a.x&&this.y===a.y}},{key:"precisionEquals",value:function(a,b){return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b}},{key:"lerp",value:function(a,b){var c=1-b;return new this.constructor(this.x*c+a.x*b,this.y*c+a.y*b)}},{key:"distanceFrom",value:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)}},{key:"min",value:function(a){return new this.constructor(Math.min(this.x,a.x),Math.min(this.y,a.y))}},{key:"max",value:function(a){return new this.constructor(Math.max(this.x,a.x),Math.max(this.y,a.y))}},{key:"transform",value:function(a){return new this.constructor(a.a*this.x+a.c*this.y+a.e,a.b*this.x+a.d*this.y+a.f)}},{key:"toString",value:function(){return"point(".concat(this.x,",").concat(this.y,")")}}]),a}(),B=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,a),this.x=b,this.y=d}return e(a,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"magnitude",value:function(){return this.x*this.x+this.y*this.y}},{key:"dot",value:function(a){return this.x*a.x+this.y*a.y}},{key:"cross",value:function(a){return this.x*a.y-this.y*a.x}},{key:"determinant",value:function(a){return this.x*a.y-this.y*a.x}},{key:"unit",value:function(){return this.divide(this.length())}},{key:"add",value:function(a){return new this.constructor(this.x+a.x,this.y+a.y)}},{key:"subtract",value:function(a){return new this.constructor(this.x-a.x,this.y-a.y)}},{key:"multiply",value:function(a){return new this.constructor(this.x*a,this.y*a)}},{key:"divide",value:function(a){return new this.constructor(this.x/a,this.y/a)}},{key:"angleBetween",value:function(a){var b=this.dot(a)/(this.length()*a.length());b=Math.max(-1,Math.min(b,1));var c=Math.acos(b);return this.cross(a)<0?-c:c}},{key:"perp",value:function(){return new this.constructor((-this.y),this.x)}},{key:"perpendicular",value:function(a){return this.subtract(this.project(a))}},{key:"project",value:function(a){var b=this.dot(a)/a.dot(a);return a.multiply(b)}},{key:"transform",value:function(a){return new this.constructor(a.a*this.x+a.c*this.y,a.b*this.x+a.d*this.y)}},{key:"equals",value:function(a){return this.x===a.x&&this.y===a.y}},{key:"precisionEquals",value:function(a,b){return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b}},{key:"toString",value:function(){return"vector(".concat(this.x,",").concat(this.y,")")}}],[{key:"fromPoints",value:function(b,c){return new a(c.x-b.x,c.y-b.y)}}]),a}(),C=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;c(this,a),this.a=b,this.b=d,this.c=e,this.d=f,this.e=g,this.f=h}return e(a,[{key:"multiply",value:function(a){return this.isIdentity()?a:a.isIdentity()?this:new this.constructor(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)}},{key:"inverse",value:function(){if(this.isIdentity())return this;var a=this.a*this.d-this.b*this.c;if(0===a)throw new Error("Matrix is not invertible");var b=1/a,c=this.f*this.c-this.e*this.d,d=this.e*this.b-this.f*this.a;return new this.constructor(this.d*b,-this.b*b,-this.c*b,this.a*b,c*b,d*b)}},{key:"translate",value:function(a,b){return new this.constructor(this.a,this.b,this.c,this.d,this.a*a+this.c*b+this.e,this.b*a+this.d*b+this.f)}},{key:"scale",value:function(a){return new this.constructor(this.a*a,this.b*a,this.c*a,this.d*a,this.e,this.f)}},{key:"scaleAt",value:function(a,b){var c=b.x-a*b.x,d=b.y-a*b.y;return new this.constructor(this.a*a,this.b*a,this.c*a,this.d*a,this.a*c+this.c*d+this.e,this.b*c+this.d*d+this.f)}},{key:"scaleNonUniform",value:function(a,b){return new this.constructor(this.a*a,this.b*a,this.c*b,this.d*b,this.e,this.f)}},{key:"scaleNonUniformAt",value:function(a,b,c){var d=c.x-a*c.x,e=c.y-b*c.y;return new this.constructor(this.a*a,this.b*a,this.c*b,this.d*b,this.a*d+this.c*e+this.e,this.b*d+this.d*e+this.f)}},{key:"rotate",value:function(a){var b=Math.cos(a),c=Math.sin(a);return new this.constructor(this.a*b+this.c*c,this.b*b+this.d*c,this.a*-c+this.c*b,this.b*-c+this.d*b,this.e,this.f)}},{key:"rotateAt",value:function(a,b){var c=Math.cos(a),d=Math.sin(a),e=b.x,f=b.y,g=this.a*c+this.c*d,h=this.b*c+this.d*d,i=this.c*c-this.a*d,j=this.d*c-this.b*d;return new this.constructor(g,h,i,j,(this.a-g)*e+(this.c-i)*f+this.e,(this.b-h)*e+(this.d-j)*f+this.f)}},{key:"rotateFromVector",value:function(a){var b=a.unit(),c=b.x,d=b.y;return new this.constructor(this.a*c+this.c*d,this.b*c+this.d*d,this.a*-d+this.c*c,this.b*-d+this.d*c,this.e,this.f)}},{key:"flipX",value:function(){return new this.constructor((-this.a),(-this.b),this.c,this.d,this.e,this.f)}},{key:"flipY",value:function(){return new this.constructor(this.a,this.b,(-this.c),(-this.d),this.e,this.f)}},{key:"skewX",value:function(a){var b=Math.tan(a);return new this.constructor(this.a,this.b,this.c+this.a*b,this.d+this.b*b,this.e,this.f)}},{key:"skewY",value:function(a){var b=Math.tan(a);return new this.constructor(this.a+this.c*b,this.b+this.d*b,this.c,this.d,this.e,this.f)}},{key:"isIdentity",value:function(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}},{key:"isInvertible",value:function(){return this.a*this.d-this.b*this.c!==0}},{key:"getScale",value:function(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}}},{key:"getDecomposition",value:function(){var a=.5*(this.a+this.d),b=.5*(this.a-this.d),c=.5*(this.b+this.c),d=.5*(this.b-this.c),e=Math.sqrt(a*a+d*d),f=Math.sqrt(b*b+c*c),g=e+f,h=e-f,i=Math.atan2(c,b),j=Math.atan2(d,a),k=.5*(j-i),l=.5*(j+i);return{translation:this.constructor.translation(this.e,this.f),rotation:this.constructor.rotation(l),scale:this.constructor.nonUniformScaling(g,h),rotation0:this.constructor.rotation(k)}}},{key:"equals",value:function(a){return this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.e===a.e&&this.f===a.f}},{key:"precisionEquals",value:function(a,b){return Math.abs(this.a-a.a)<b&&Math.abs(this.b-a.b)<b&&Math.abs(this.c-a.c)<b&&Math.abs(this.d-a.d)<b&&Math.abs(this.e-a.e)<b&&Math.abs(this.f-a.f)<b}},{key:"toString",value:function(){return"matrix(".concat(this.a,",").concat(this.b,",").concat(this.c,",").concat(this.d,",").concat(this.e,",").concat(this.f,")")}}],[{key:"translation",value:function(b,c){return new a(1,0,0,1,b,c)}},{key:"scaling",value:function(b){return new a(b,0,0,b,0,0)}},{key:"scalingAt",value:function(b,c){return new a(b,0,0,b,c.x-c.x*b,c.y-c.y*b)}},{key:"nonUniformScaling",value:function(b,c){return new a(b,0,0,c,0,0)}},{key:"nonUniformScalingAt",value:function(b,c,d){return new a(b,0,0,c,d.x-d.x*b,d.y-d.y*c)}},{key:"rotation",value:function(b){var c=Math.cos(b),d=Math.sin(b);return new a(c,d,(-d),c,0,0)}},{key:"rotationAt",value:function(b,c){var d=Math.cos(b),e=Math.sin(b);return new a(d,e,(-e),d,c.x-c.x*d+c.y*e,c.y-c.y*d-c.x*e)}},{key:"rotationFromVector",value:function(b){var c=b.unit(),d=c.x,e=c.y;return new a(d,e,(-e),d,0,0)}},{key:"xFlip",value:function(){return new a((-1),0,0,1,0,0)}},{key:"yFlip",value:function(){return new a(1,0,0,(-1),0,0)}},{key:"xSkew",value:function(b){var c=Math.tan(b);return new a(1,0,c,1,0,0)}},{key:"ySkew",value:function(b){var c=Math.tan(b);return new a(1,c,0,1,0,0)}}]),a}();C.IDENTITY=new C,C.IDENTITY.isIdentity=function(){return!0};var D=function(){function a(){c(this,a),this.coefs=[];for(var b=arguments.length-1;b>=0;b--)this.coefs.push(b<0||arguments.length<=b?void 0:arguments[b]);this._variable="t",this._s=0}return e(a,[{key:"clone",value:function(){var b=new a;return b.coefs=this.coefs.slice(),b}},{key:"eval",value:function(a){if(isNaN(a))throw new TypeError("Parameter must be a number. Found '".concat(a,"'"));for(var b=0,c=this.coefs.length-1;c>=0;c--)b=b*a+this.coefs[c];return b}},{key:"add",value:function(b){for(var c=new a,d=this.getDegree(),e=b.getDegree(),f=Math.max(d,e),g=0;g<=f;g++){var h=g<=d?this.coefs[g]:0,i=g<=e?b.coefs[g]:0;c.coefs[g]=h+i}return c}},{key:"multiply",value:function(b){for(var c=new a,d=0;d<=this.getDegree()+b.getDegree();d++)c.coefs.push(0);for(var e=0;e<=this.getDegree();e++)for(var f=0;f<=b.getDegree();f++)c.coefs[e+f]+=this.coefs[e]*b.coefs[f];return c}},{key:"divideEqualsScalar",value:function(a){for(var b=0;b<this.coefs.length;b++)this.coefs[b]/=a}},{key:"simplifyEquals",value:function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e-12,b=this.getDegree();b>=0&&Math.abs(this.coefs[b])<=a;b--)this.coefs.pop()}},{key:"removeZerosEquals",value:function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e-15,b=this.coefs,c=10*a*Math.abs(b.reduce(function(a,b){return Math.abs(b)>Math.abs(a)?b:a})),d=0;d<b.length-1;d++)Math.abs(b[d])<c&&(b[d]=0);return this}},{key:"monicEquals",value:function(){var a=this.coefs;return 1!==a[a.length-1]&&this.divideEqualsScalar(a[a.length-1]),this}},{key:"toString",value:function(){for(var a=[],b=[],c=this.coefs.length-1;c>=0;c--){var d=Math.round(1e3*this.coefs[c])/1e3;if(0!==d){var e=d<0?" - ":" + ";d=Math.abs(d),c>0&&(1===d?d=this._variable:d+=this._variable),c>1&&(d+="^"+c),b.push(e),a.push(d)}}b[0]=" + "===b[0]?"":"-";for(var f="",g=0;g<a.length;g++)f+=b[g]+a[g];return f}},{key:"bisection",value:function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,f=this.eval(a),g=this.eval(b);if(Math.abs(f)<=d)c=a;else if(Math.abs(g)<=d)c=b;else if(f*g<=0)for(var h=Math.log(b-a),i=Math.LN10*e,j=Math.ceil((h+i)/Math.LN2),k=0;k<j;k++){c=.5*(a+b);var l=this.eval(c);if(Math.abs(l)<=d)break;l*f<0?(b=c,g=l):(a=c,f=l)}return c}},{key:"trapezoid",value:function(a,b,c){if(isNaN(a)||isNaN(b)||isNaN(c))throw new TypeError("Parameters must be numbers");var d=b-a;if(1===c){var e=this.eval(a),f=this.eval(b);this._s=.5*d*(e+f)}else{for(var g=1<<c-2,h=d/g,i=a+.5*h,j=0,k=0;k<g;k++)j+=this.eval(i),i+=h;this._s=.5*(this._s+d*j/g)}if(isNaN(this._s))throw new TypeError("this._s is NaN");return this._s}},{key:"simpson",value:function(a,b){if(isNaN(a)||isNaN(b))throw new TypeError("Parameters must be numbers");for(var c=b-a,d=.5*c*(this.eval(a)+this.eval(b)),e=d,f=4*d/3,g=f,h=d,i=1e-7,j=1,k=2;k<=20;k++){for(var l=c/j,m=a+.5*l,n=0,o=1;o<=j;o++)n+=this.eval(m),m+=l;if(e=.5*(e+c*n/j),d=e,f=(4*d-h)/3,Math.abs(f-g)<i*Math.abs(g))break;g=f,h=d,j<<=1}return f}},{key:"romberg",value:function(b,c){if(isNaN(b)||isNaN(c))throw new TypeError("Parameters must be numbers");var d=20,e=3,f=1e-6,g=new Array(d+1),h=new Array(d+1),i={y:0,dy:0};h[0]=1;for(var j=1;j<=d&&(g[j-1]=this.trapezoid(b,c,j),!(j>=e&&(i=a.interpolate(h,g,e,j-e,0),Math.abs(i.dy)<=f*i.y)));j++)g[j]=g[j-1],h[j]=.25*h[j-1];return i.y}},{key:"zeroErrorEstimate",value:function(a){var b=this,c=1e-15;if("undefined"==typeof a){var d=b.bounds();a=Math.max(Math.abs(d.minX),Math.abs(d.maxX))}if(a<.001)return 2*Math.abs(b.eval(c));var e=b.coefs.length-1,f=b.coefs[e];return 10*c*b.coefs.reduce(function(b,c,d){var e=c/f*Math.pow(a,d);return e>b?e:b},0)}},{key:"boundsUpperRealFujiwara",value:function(){var a=this.coefs,b=a.length-1,c=a[b];1!==c&&(a=this.coefs.map(function(a){return a/c}));var d,e=a.map(function(a,c){return c<b?Math.pow(Math.abs(0===c?a/2:a),1/(b-c)):a}),f=function(a,b,c){return d(c)&&(a.max<b?(a.nearmax=a.max,a.max=b):a.nearmax<b&&(a.nearmax=b)),a};d=function(c){return c<b&&a[c]<0};var g=e.reduce(f,{max:0,nearmax:0});d=function(c){return c<b&&(b%2===c%2?a[c]<0:a[c]>0)};var h=e.reduce(f,{max:0,nearmax:0});return{negX:-2*h.max,posX:2*g.max}}},{key:"boundsLowerRealFujiwara",value:function(){var b=new a;b.coefs=this.coefs.slice().reverse();var c=b.boundsUpperRealFujiwara();return c.negX=1/c.negX,c.posX=1/c.posX,c}},{key:"bounds",value:function(){var a=this.boundsUpperRealFujiwara(),b={minX:a.negX,maxX:a.posX};return 0===a.negX&&0===a.posX?b:(0===a.negX?b.minX=this.boundsLowerRealFujiwara().posX:0===a.posX&&(b.maxX=this.boundsLowerRealFujiwara().negX),b.minX>b.maxX&&(b.minX=b.maxX=0),b)}},{key:"boundUpperAbsRouche",value:function(){var a=this.coefs,b=a.length-1,c=a.reduce(function(a,c,d){return d!==b?(c=Math.abs(c),a<c?c:a):a},0);return 1+c/Math.abs(a[b])}},{key:"boundLowerAbsRouche",value:function(){var a=this.coefs,b=a.reduce(function(a,b,c){return 0!==c?(b=Math.abs(b),a<b?b:a):a},0);return Math.abs(a[0])/(Math.abs(a[0])+b)}},{key:"boundsRealLaguerre",value:function(){var a=this.coefs,b=a.length-1,c=-a[b-1]/(b*a[b]),d=a[b-1]*a[b-1]-2*b/(b-1)*a[b]*a[b-2],e=(b-1)/(b*a[b])*Math.sqrt(d);return e<0&&(e=-e),{minX:c-e,maxX:c+e}}},{key:"countRootsDescartes",value:function(){var a=this.coefs,b=a.length-1,c=a.reduce(function(a,b,c){return 0!==a.prev_a&&0!==b&&(a.prev_a<0==b>0&&a.pos++,c%2===0!=a.prev_a<0==(c%2===1!=b>0)&&a.neg++),a.prev_a=b,a},{pos:0,neg:0,prev_a:0});return{maxRealPos:c.pos,maxRealNeg:c.neg,minComplex:b-(c.pos+c.neg)}}},{key:"getDegree",value:function(){return this.coefs.length-1}},{key:"getDerivative",value:function(){for(var b=new a,c=1;c<this.coefs.length;c++)b.coefs.push(c*this.coefs[c]);return b}},{key:"getRoots",value:function(){var a;switch(this.simplifyEquals(),this.getDegree()){case 0:a=[];break;case 1:a=this.getLinearRoot();break;case 2:a=this.getQuadraticRoots();break;case 3:a=this.getCubicRoots();break;case 4:a=this.getQuarticRoots();break;default:a=[]}return a}},{key:"getRootsInInterval",value:function(a,b){function c(a){"number"==typeof a&&d.push(a)}var d=[];if(0===this.getDegree())throw new RangeError("Unexpected empty polynomial");if(1===this.getDegree())c(this.bisection(a,b));else{var e=this.getDerivative(),f=e.getRootsInInterval(a,b);if(f.length>0){c(this.bisection(a,f[0]));for(var g=0;g<=f.length-2;g++)c(this.bisection(f[g],f[g+1]));c(this.bisection(f[f.length-1],b))}else c(this.bisection(a,b))}return d}},{key:"getLinearRoot",value:function(){var a=[],b=this.coefs[1];return 0!==b&&a.push(-this.coefs[0]/b),a}},{key:"getQuadraticRoots",value:function(){var a=[];if(2===this.getDegree()){var b=this.coefs[2],c=this.coefs[1]/b,d=this.coefs[0]/b,e=c*c-4*d;if(e>0){var f=Math.sqrt(e);a.push(.5*(-c+f)),a.push(.5*(-c-f))}else 0===e&&a.push(.5*-c)}return a}},{key:"getCubicRoots",value:function(){var a=[];if(3===this.getDegree()){var b=this.coefs[3],c=this.coefs[2]/b,d=this.coefs[1]/b,e=this.coefs[0]/b,f=(3*d-c*c)/3,g=(2*c*c*c-9*d*c+27*e)/27,h=c/3,i=g*g/4+f*f*f/27,j=g/2,k=this.zeroErrorEstimate();if(Math.abs(i)<=k&&(i=0),i>0){var l,m=Math.sqrt(i),n=-j+m;l=n>=0?Math.pow(n,1/3):-Math.pow(-n,1/3),n=-j-m,n>=0?l+=Math.pow(n,1/3):l-=Math.pow(-n,1/3),a.push(l-h)}else if(i<0){var o=Math.sqrt(-f/3),p=Math.atan2(Math.sqrt(-i),-j)/3,q=Math.cos(p),r=Math.sin(p),s=Math.sqrt(3);a.push(2*o*q-h),a.push(-o*(q+s*r)-h),a.push(-o*(q-s*r)-h)}else{var t;t=j>=0?-Math.pow(j,1/3):Math.pow(-j,1/3),a.push(2*t-h),a.push(-t-h)}}return a}},{key:"getQuarticRoots",value:function(){var b=[],c=this.getDegree();if(4===c){var d=new a;d.coefs=this.coefs.slice(),d.divideEqualsScalar(d.coefs[c]);var e=1e-15;Math.abs(d.coefs[0])<10*e*Math.abs(d.coefs[3])&&(d.coefs[0]=0);for(var f=d.getDerivative(),g=f.getRoots().sort(function(a,b){return a-b}),h=[],i=g.length-1,j=this.bounds(),k=Math.max(Math.abs(j.minX),Math.abs(j.maxX)),l=this.zeroErrorEstimate(k),m=0;m<=i;m++)h.push(d.eval(g[m]));for(var n=0;n<=i;n++)Math.abs(h[n])<l&&(h[n]=0);var o=0,p=Math.max(.1*(j.maxX-j.minX)/c,e),r=[],s=[];if(i>-1){for(0!==h[0]?q(h[0])!==q(d.eval(g[0]-p)-h[0])&&(r.push(g[0]-p),s.push([j.minX,g[0]])):(b.push(g[0],g[0]),o++);o<i;o++)0===h[o+1]?(b.push(g[o+1],g[o+1]),o++):q(h[o])!==q(h[o+1])&&(r.push((g[o]+g[o+1])/2),s.push([g[o],g[o+1]]));0!==h[i]&&q(h[i])!==q(d.eval(g[i]+p)-h[i])&&(r.push(g[i]+p),s.push([g[i],j.maxX]))}var t=function(a){return d.eval(a)},u=function(a){return f.eval(a)};if(r.length>0)for(o=0;o<r.length;o++)r[o]=a.newtonSecantBisection(r[o],t,u,32,s[o][0],s[o][1]);b=b.concat(r)}return b}}],[{key:"interpolate",value:function(a,b,c,d,e){if(a.constructor!==Array||b.constructor!==Array)throw new TypeError("xs and ys must be arrays");if(isNaN(c)||isNaN(d)||isNaN(e))throw new TypeError("n, offset, and x must be numbers");var f,g,h=0,i=new Array(c),j=new Array(c),k=0,l=Math.abs(e-a[d]);for(f=0;f<c;f++){var m=Math.abs(e-a[d+f]);m<l&&(k=f,l=m),i[f]=j[f]=b[d+f]}g=b[d+k],k--;for(var n=1;n<c;n++){for(f=0;f<c-n;f++){var o=a[d+f]-e,p=a[d+f+n]-e,q=i[f+1]-j[f],r=o-p;if(0===r)throw new RangeError("Unable to interpolate polynomial. Two numbers in n were identical (to within roundoff)");r=q/r,j[f]=p*r,i[f]=o*r}h=2*(k+1)<c-n?i[k+1]:j[k--],g+=h}return{y:g,dy:h}}},{key:"newtonSecantBisection",value:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n=0,o=0;g=a;var p=14,r=Math.pow(10,-p),s="number"==typeof e&&"number"==typeof f;if(s){if(e>f)throw new RangeError("Min must be greater than max");if(l=b(e),m=b(f),q(l)===q(m))throw new RangeError("Y values of bounds must be of opposite sign")}for(var t=function(){return Math.abs(i)<=r*Math.abs(g)||o===g-i-g},u=0;u<d;u++){if(h=c(g),0===h){if(0===n)throw new RangeError("df(x) is zero");h=n}if(n=h,k=b(g),i=k/h,j=g-i,t())break;if(s){if(q(k)===q(m))f=g,m=k;else{if(q(k)!==q(l)){g=j;break}e=g,l=k}if(j<e||j>f){if(q(l)===q(m))break;var v=50,w=.25,x=m-l,y=f-e;if(i=0===x?g-(e+.5*y):Math.abs(x/Math.min(l,m))>v?g-(e+y*(.5+(Math.abs(l)<Math.abs(m)?-w:w))):g-(e-l/x*y),j=g-i,t())break}}o=g-j,g=j}return g}}]),a}(),E=function(){function a(b,d){c(this,a),this.type=b,this.text=d}return e(a,[{key:"typeis",value:function(a){return this.type===a}}]),a}();E.UNDEFINED=0,E.COMMAND=1,E.NUMBER=2,E.EOD=3;var F=function(){function a(b){c(this,a),null!==b&&void 0!==b||(b=""),this.setPathData(b)}return e(a,[{key:"setPathData",value:function(a){if("string"!=typeof a)throw new TypeError("The first parameter must be a string");this._pathData=a}},{key:"getNextToken",value:function(){for(var a=null,b=this._pathData;null===a;)if(null===b||""===b)a=new E(E.EOD,"");else if(b.match(/^([ \t\r\n,]+)/))b=b.substr(RegExp.$1.length);else if(b.match(/^([AaCcHhLlMmQqSsTtVvZz])/))a=new E(E.COMMAND,RegExp.$1),b=b.substr(RegExp.$1.length);else{if(!b.match(/^(([-+]?\d+(\.\d*)?|[-+]?\.\d+)([eE][-+]?\d+)?)/))throw new SyntaxError("Unrecognized path data: ".concat(b));a=new E(E.NUMBER,RegExp.$1),b=b.substr(RegExp.$1.length)}return this._pathData=b,a}}]),a}(),G="BOP",H=function(){function a(){c(this,a),this._lexer=new F,this._handler=null}return e(a,[{key:"parseData",value:function(b){if("string"!=typeof b)throw new TypeError("The first parameter must be a string: ".concat(b));null!==this._handler&&"function"==typeof this._handler.beginParse&&this._handler.beginParse();var c=this._lexer;c.setPathData(b);for(var d=G,e=null,f=c.getNextToken();f.typeis(E.EOD)===!1;){var g=void 0,h=[];switch(f.type){case E.COMMAND:if(d===G&&"M"!==f.text&&"m"!==f.text)throw new SyntaxError("New paths must begin with a moveto command. Found '".concat(f.text,"'"));d=f.text,g=a.PARAMCOUNT[f.text.toUpperCase()],f=c.getNextToken();break;case E.NUMBER:if(d===G)throw new SyntaxError("New paths must begin with a moveto command. Found '".concat(f.text,"'"));g=a.PARAMCOUNT[d.toUpperCase()];break;default:throw new SyntaxError("Unrecognized command type: ".concat(f.type))}for(var i=0;i<g;i++){switch(f.type){case E.COMMAND:throw new SyntaxError("Parameter must be a number. Found '".concat(f.text,"'"));case E.NUMBER:h[i]=parseFloat(f.text);break;case E.EOD:throw new SyntaxError("Unexpected end of string");default:throw new SyntaxError("Unrecognized parameter type. Found type '".concat(f.type,"'"))}f=c.getNextToken()}if(null!==this._handler){var j=this._handler,k=a.METHODNAME[d];"a"!==d&&"A"!==d||(h[3]=0!==h[3],h[4]=0!==h[4]),null!==j&&"function"==typeof j[k]&&j[k].apply(j,h)}switch(d){case"M":d="L";break;case"m":d="l";break;case"Z":case"z":d="BOP"}if(f===e)throw new SyntaxError("Parser stalled on '".concat(f.text,"'"));e=f}null!==this._handler&&"function"==typeof this._handler.endParse&&this._handler.endParse()}},{key:"setHandler",value:function(a){this._handler=a}}]),a}();H.PARAMCOUNT={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},H.METHODNAME={A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"};var I=2*Math.PI,J=function(){function a(b){c(this,a),this.shapeCreator=b,this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}return e(a,[{key:"beginParse",value:function(){this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}},{key:"addShape",value:function(a){this.shapes.push(a)}},{key:"arcAbs",value:function(a,b,c,d,e,f,h){if(0===a||0===b)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,f,h));else{var i,j=r(new A(this.lastX,this.lastY),new A(f,h),a,b,c,d,e);this.addShape((i=this.shapeCreator).arc.apply(i,g(j)))}this.lastCommand="A",this.lastX=f,this.lastY=h}},{key:"arcRel",value:function(a,b,c,d,e,f,h){if(0===a||0===b)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+f,this.lastY+h));else{var i,j=r(new A(this.lastX,this.lastY),new A(this.lastX+f,this.lastY+h),a,b,c,d,e);this.addShape((i=this.shapeCreator).arc.apply(i,g(j)))}this.lastCommand="a",this.lastX+=f,this.lastY+=h}},{key:"curvetoCubicAbs",value:function(a,b,c,d,e,f){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,a,b,c,d,e,f)),this.lastX=e,this.lastY=f,this.lastCommand="C"}},{key:"curvetoCubicRel",value:function(a,b,c,d,e,f){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,this.lastX+a,this.lastY+b,this.lastX+c,this.lastY+d,this.lastX+e,this.lastY+f)),this.lastX+=e,this.lastY+=f,this.lastCommand="c"}},{key:"linetoHorizontalAbs",value:function(a){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,a,this.lastY)),this.lastX=a,this.lastCommand="H"}},{key:"linetoHorizontalRel",value:function(a){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+a,this.lastY)),this.lastX+=a,this.lastCommand="h"}},{key:"linetoAbs",value:function(a,b){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,a,b)),this.lastX=a,this.lastY=b,this.lastCommand="L"}},{key:"linetoRel",value:function(a,b){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+a,this.lastY+b)),this.lastX+=a,this.lastY+=b,this.lastCommand="l"}},{key:"movetoAbs",value:function(a,b){this.firstX=a,this.firstY=b,this.lastX=a,this.lastY=b,this.lastCommand="M"}},{key:"movetoRel",value:function(a,b){this.firstX+=a,this.firstY+=b,this.lastX+=a,this.lastY+=b,this.lastCommand="m"}},{key:"curvetoQuadraticAbs",value:function(a,b,c,d){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,a,b,c,d)),this.lastX=c,this.lastY=d,this.lastCommand="Q"}},{key:"curvetoQuadraticRel",value:function(a,b,c,d){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,this.lastX+a,this.lastY+b,this.lastX+c,this.lastY+d)),this.lastX+=c,this.lastY+=d,this.lastCommand="q"}},{key:"curvetoCubicSmoothAbs",value:function(a,b,c,d){var e,f;if(this.lastCommand.match(/^[SsCc]$/)){var g=this.shapes[this.shapes.length-1].args[2];e=2*this.lastX-g.x,f=2*this.lastY-g.y}else e=this.lastX,f=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,e,f,a,b,c,d)),this.lastX=c,this.lastY=d,this.lastCommand="S"}},{key:"curvetoCubicSmoothRel",value:function(a,b,c,d){var e,f;if(this.lastCommand.match(/^[SsCc]$/)){var g=this.shapes[this.shapes.length-1].args[2];e=2*this.lastX-g.x,f=2*this.lastY-g.y}else e=this.lastX,f=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,e,f,this.lastX+a,this.lastY+b,this.lastX+c,this.lastY+d)),this.lastX+=c,this.lastY+=d,this.lastCommand="s"}},{key:"curvetoQuadraticSmoothAbs",value:function(a,b){var c,d;if(this.lastCommand.match(/^[QqTt]$/)){var e=this.shapes[this.shapes.length-1].args[1];c=2*this.lastX-e.x,d=2*this.lastY-e.y}else c=this.lastX,d=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,c,d,a,b)),this.lastX=a,this.lastY=b,this.lastCommand="T"}},{key:"curvetoQuadraticSmoothRel",value:function(a,b){var c,d;if(this.lastCommand.match(/^[QqTt]$/)){var e=this.shapes[this.shapes.length-1].args[1];c=2*this.lastX-e.x,d=2*this.lastY-e.y}else c=this.lastX,d=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,c,d,this.lastX+a,this.lastY+b)),this.lastX+=a,this.lastY+=b,this.lastCommand="t"}},{key:"linetoVerticalAbs",value:function(a){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,a)),this.lastY=a,this.lastCommand="V"}},{key:"linetoVerticalRel",value:function(a){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,this.lastY+a)),this.lastY+=a,this.lastCommand="v"}},{key:"closePath",value:function(){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.firstX,this.firstY)),this.lastX=this.firstX,this.lastY=this.firstY,this.lastCommand="z"}}]),a}(),K=.5*Math.PI,L=new H,M=function(){function a(b,d){c(this,a),this.name=b,this.args=d}return e(a,null,[{key:"arc",value:function(){
for(var b=[[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"],[["startRadians"],"Number"],[["endRadians"],"Number"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d);return new a(a.ARC,f)}},{key:"quadraticBezier",value:function(){for(var b=[[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d);return new a(a.QUADRATIC_BEZIER,f)}},{key:"cubicBezier",value:function(){for(var b=[[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"],[["p4",["p4x","p4y"]],"Point2D"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d);return new a(a.CUBIC_BEZIER,f)}},{key:"circle",value:function(){for(var b=[[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radius","r"],"Number"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d);return new a(a.CIRCLE,f)}},{key:"ellipse",value:function(){for(var b=[[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d);return new a(a.ELLIPSE,f)}},{key:"line",value:function(){for(var b=[[["p1",["p1x","p1y"],["x1","y1"]],"Point2D"],[["p2",["p2x","p2y"],["x2","y2"]],"Point2D"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d);return new a(a.LINE,f)}},{key:"path",value:function(){return L.parseData(arguments.length<=0?void 0:arguments[0]),new a(a.PATH,N.shapes)}},{key:"polygon",value:function(){for(var b=[[[],"Array<Point2D>"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,1===d.length&&Array.isArray(d[0])?d[0]:d);return new a(a.POLYGON,f)}},{key:"polyline",value:function(){for(var b=[[[],"Array<Point2D>"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,1===d.length&&Array.isArray(d[0])?d[0]:d);return new a(a.POLYLINE,f)}},{key:"rectangle",value:function(){for(var b=[[["topLeft",["x","y"],["left","top"]],"Point2D"],[["size",["width","height"],["w","h"]],"Point2D"],[["radiusX","rx"],"Optional<Number>"],[["radiusY","ry"],"Optional<Number>"]],c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=s(b,d),g=f[0],h=f[1];f[1]=new A(g.x+h.x,g.y+h.y);var i=new a(a.RECTANGLE,f),j=i.args.pop(),k=i.args.pop();if(k=void 0===k?0:k,j=void 0===j?0:j,0===k&&0===j)return i;var l=i.args[0],m=l.x,n=l.y,o=i.args[1],p=o.x,q=o.y,r=p-m,t=q-n;0===k&&(k=j),0===j&&(j=k),k>.5*r&&(k=.5*r),j>.5*t&&(j=.5*t);var u=m,v=n,w=m+k,x=n+j,y=p-k,z=q-j,B=p,C=q,D=[a.arc(w,x,k,j,2*K,3*K),a.line(w,v,y,v),a.arc(y,x,k,j,3*K,4*K),a.line(B,x,B,z),a.arc(y,z,k,j,0,K),a.line(y,C,w,C),a.arc(w,z,k,j,K,2*K),a.line(u,z,u,x)];return new a(a.PATH,D)}}]),a}();M.ARC="Arc",M.QUADRATIC_BEZIER="Bezier2",M.CUBIC_BEZIER="Bezier3",M.CIRCLE="Circle",M.ELLIPSE="Ellipse",M.LINE="Line",M.PATH="Path",M.POLYGON="Polygon",M.POLYLINE="Polyline",M.RECTANGLE="Rectangle";var N=new J(M);L.setHandler(N);var O=2*Math.PI,P=new B(1,0),Q=function(){function a(b){c(this,a),this.init(b)}return e(a,[{key:"init",value:function(a){this.status=a,this.points=[]}},{key:"appendPoint",value:function(a){this.points.push(a)}},{key:"appendPoints",value:function(a){this.points=this.points.concat(a)}}],[{key:"intersect",value:function(b,c){var d;if(v(b)||v(c))d=new a("No Intersection");else if("Path"===b.name)d=a.intersectPathShape(b,c);else if("Path"===c.name)d=a.intersectPathShape(c,b);else if("Arc"===b.name)d=a.intersectArcShape(b,c);else if("Arc"===c.name)d=a.intersectArcShape(c,b);else{var e,f;if(b.name<c.name?(e="intersect"+b.name+c.name,f=b.args.concat(c.args)):(e="intersect"+c.name+b.name,f=c.args.concat(b.args)),!(e in a))throw new TypeError("Intersection not available: "+e);d=a[e].apply(null,f)}return d}},{key:"intersectPathShape",value:function(b,c){var d,e=new a("No Intersection"),f=p(b.args);try{for(f.s();!(d=f.n()).done;){var g=d.value,h=a.intersect(g,c);e.appendPoints(h.points)}}catch(i){f.e(i)}finally{f.f()}return e.points.length>0&&(e.status="Intersection"),e}},{key:"intersectArcShape",value:function(b,c){var d=f(b.args,5),e=d[0],g=d[1],h=d[2],i=d[3],j=d[4],k=new M(M.ELLIPSE,[e,g,h]),l=a.intersect(k,c);return y(l,e,g,h,i,j)}},{key:"intersectBezier2Bezier2",value:function(b,c,d,e,f,g){var h,i,j=new a("No Intersection");h=c.multiply(-2);var k=b.add(h.add(d));h=b.multiply(-2),i=c.multiply(2);var l=h.add(i),m=new A(b.x,b.y);h=f.multiply(-2);var n=e.add(h.add(g));h=e.multiply(-2),i=f.multiply(2);var o=h.add(i),q=new A(e.x,e.y);h=k.x*l.y-l.x*k.y,i=n.x*l.y-l.x*n.y;var r,s=o.x*l.y-l.x*o.y,t=l.x*(m.y-q.y)+l.y*(-m.x+q.x),u=n.x*k.y-k.x*n.y,v=o.x*k.y-k.x*o.y,w=k.x*(m.y-q.y)+k.y*(-m.x+q.x),x=new D(-u*u,-2*u*v,h*i-v*v-2*u*w,h*s-2*v*w,h*t-w*w),y=x.getRoots(),z=p(y);try{for(z.s();!(r=z.n()).done;){var B=r.value;if(0<=B&&B<=1){var C=new D(k.x,l.x,m.x-q.x-B*o.x-B*B*n.x);C.simplifyEquals();var E=C.getRoots(),F=new D(k.y,l.y,m.y-q.y-B*o.y-B*B*n.y);F.simplifyEquals();var G=F.getRoots();if(E.length>0&&G.length>0){var H,I=1e-4,J=p(E);try{a:for(J.s();!(H=J.n()).done;){var K=H.value;if(0<=K&&K<=1)for(var L=0;L<G.length;L++)if(Math.abs(K-G[L])<I){j.points.push(n.multiply(B*B).add(o.multiply(B).add(q)));break a}}}catch(M){J.e(M)}finally{J.f()}}}}}catch(M){z.e(M)}finally{z.f()}return j.points.length>0&&(j.status="Intersection"),j}},{key:"intersectBezier2Bezier3",value:function(b,c,d,e,f,g,h){var i,j,k,l,m=new a("No Intersection");i=c.multiply(-2);var n=b.add(i.add(d));i=b.multiply(-2),j=c.multiply(2);var o=i.add(j),q=new A(b.x,b.y);i=e.multiply(-1),j=f.multiply(3),k=g.multiply(-3),l=i.add(j.add(k.add(h)));var r=new A(l.x,l.y);i=e.multiply(3),j=f.multiply(-6),k=g.multiply(3),l=i.add(j.add(k));var s=new A(l.x,l.y);i=e.multiply(-3),j=f.multiply(3),k=i.add(j);var t,u=new A(k.x,k.y),v=new A(e.x,e.y),w=q.x*q.x,x=q.y*q.y,y=o.x*o.x,z=o.y*o.y,B=n.x*n.x,C=n.y*n.y,E=v.x*v.x,F=v.y*v.y,G=u.x*u.x,H=u.y*u.y,I=s.x*s.x,J=s.y*s.y,K=r.x*r.x,L=r.y*r.y,M=new D(-2*n.x*n.y*r.x*r.y+B*L+C*K,-2*n.x*n.y*s.x*r.y-2*n.x*n.y*s.y*r.x+2*C*s.x*r.x+2*B*s.y*r.y,-2*n.x*u.x*n.y*r.y-2*n.x*n.y*u.y*r.x-2*n.x*n.y*s.x*s.y+2*u.x*C*r.x+C*I+B*(2*u.y*r.y+J),2*q.x*n.x*n.y*r.y+2*q.y*n.x*n.y*r.x+o.x*o.y*n.x*r.y+o.x*o.y*n.y*r.x-2*v.x*n.x*n.y*r.y-2*n.x*v.y*n.y*r.x-2*n.x*u.x*n.y*s.y-2*n.x*n.y*u.y*s.x-2*q.x*C*r.x-2*q.y*B*r.y+2*v.x*C*r.x+2*u.x*C*s.x-z*n.x*r.x-y*n.y*r.y+B*(2*v.y*r.y+2*u.y*s.y),2*q.x*n.x*n.y*s.y+2*q.y*n.x*n.y*s.x+o.x*o.y*n.x*s.y+o.x*o.y*n.y*s.x-2*v.x*n.x*n.y*s.y-2*n.x*v.y*n.y*s.x-2*n.x*u.x*n.y*u.y-2*q.x*C*s.x-2*q.y*B*s.y+2*v.x*C*s.x-z*n.x*s.x-y*n.y*s.y+G*C+B*(2*v.y*s.y+H),2*q.x*n.x*n.y*u.y+2*q.y*n.x*u.x*n.y+o.x*o.y*n.x*u.y+o.x*o.y*u.x*n.y-2*v.x*n.x*n.y*u.y-2*n.x*v.y*u.x*n.y-2*q.x*u.x*C-2*q.y*B*u.y+2*v.x*u.x*C-z*n.x*u.x-y*n.y*u.y+2*B*v.y*u.y,-2*q.x*q.y*n.x*n.y-q.x*o.x*o.y*n.y-q.y*o.x*o.y*n.x+2*q.x*n.x*v.y*n.y+2*q.y*v.x*n.x*n.y+o.x*v.x*o.y*n.y+o.x*o.y*n.x*v.y-2*v.x*n.x*v.y*n.y-2*q.x*v.x*C+q.x*z*n.x+q.y*y*n.y-2*q.y*B*v.y-v.x*z*n.x-y*v.y*n.y+w*C+x*B+E*C+B*F),N=M.getRootsInInterval(0,1),O=p(N);try{for(O.s();!(t=O.n()).done;){var P=t.value,Q=new D(n.x,o.x,q.x-v.x-P*u.x-P*P*s.x-P*P*P*r.x).getRoots(),R=new D(n.y,o.y,q.y-v.y-P*u.y-P*P*s.y-P*P*P*r.y).getRoots();if(Q.length>0&&R.length>0){var S,T=1e-4,U=p(Q);try{a:for(U.s();!(S=U.n()).done;){var V=S.value;if(0<=V&&V<=1)for(var W=0;W<R.length;W++)if(Math.abs(V-R[W])<T){m.points.push(r.multiply(P*P*P).add(s.multiply(P*P).add(u.multiply(P).add(v))));break a}}}catch(X){U.e(X)}finally{U.f()}}}}catch(X){O.e(X)}finally{O.f()}return m.points.length>0&&(m.status="Intersection"),m}},{key:"intersectBezier2Circle",value:function(b,c,d,e,f){return a.intersectBezier2Ellipse(b,c,d,e,f,f)}},{key:"intersectBezier2Ellipse",value:function(b,c,d,e,f,g){var h,i=new a("No Intersection");h=c.multiply(-2);var j=b.add(h.add(d));h=b.multiply(-2);var k,l=c.multiply(2),m=h.add(l),n=new A(b.x,b.y),o=f*f,q=g*g,r=new D(q*j.x*j.x+o*j.y*j.y,2*(q*j.x*m.x+o*j.y*m.y),q*(2*j.x*n.x+m.x*m.x)+o*(2*j.y*n.y+m.y*m.y)-2*(q*e.x*j.x+o*e.y*j.y),2*(q*m.x*(n.x-e.x)+o*m.y*(n.y-e.y)),q*(n.x*n.x+e.x*e.x)+o*(n.y*n.y+e.y*e.y)-2*(q*e.x*n.x+o*e.y*n.y)-o*q).getRoots(),s=p(r);try{for(s.s();!(k=s.n()).done;){var t=k.value;0<=t&&t<=1&&i.points.push(j.multiply(t*t).add(m.multiply(t).add(n)))}}catch(u){s.e(u)}finally{s.f()}return i.points.length>0&&(i.status="Intersection"),i}},{key:"intersectBezier2Line",value:function(b,c,d,e,f){var g,h=e.min(f),i=e.max(f),j=new a("No Intersection");g=c.multiply(-2);var k=b.add(g.add(d));g=b.multiply(-2);var l,m=c.multiply(2),n=g.add(m),o=new A(b.x,b.y),q=new B(e.y-f.y,f.x-e.x),r=e.x*f.y-f.x*e.y,s=new D(q.dot(k),q.dot(n),q.dot(o)+r).getRoots(),t=p(s);try{for(t.s();!(l=t.n()).done;){var u=l.value;if(0<=u&&u<=1){var v=b.lerp(c,u),w=c.lerp(d,u),x=v.lerp(w,u);e.x===f.x?h.y<=x.y&&x.y<=i.y&&(j.status="Intersection",j.appendPoint(x)):e.y===f.y?h.x<=x.x&&x.x<=i.x&&(j.status="Intersection",j.appendPoint(x)):h.x<=x.x&&x.x<=i.x&&h.y<=x.y&&x.y<=i.y&&(j.status="Intersection",j.appendPoint(x))}}}catch(y){t.e(y)}finally{t.f()}return j}},{key:"intersectBezier2Polygon",value:function(b,c,d,e){return a.intersectBezier2Polyline(b,c,d,z(e))}},{key:"intersectBezier2Polyline",value:function(b,c,d,e){for(var f=new a("No Intersection"),g=e.length,h=0;h<g-1;h++){var i=e[h],j=e[h+1],k=a.intersectBezier2Line(b,c,d,i,j);f.appendPoints(k.points)}return f.points.length>0&&(f.status="Intersection"),f}},{key:"intersectBezier2Rectangle",value:function(b,c,d,e,f){var g=e.min(f),h=e.max(f),i=new A(h.x,g.y),j=new A(g.x,h.y),k=a.intersectBezier2Line(b,c,d,g,i),l=a.intersectBezier2Line(b,c,d,i,h),m=a.intersectBezier2Line(b,c,d,h,j),n=a.intersectBezier2Line(b,c,d,j,g),o=new a("No Intersection");return o.appendPoints(k.points),o.appendPoints(l.points),o.appendPoints(m.points),o.appendPoints(n.points),o.points.length>0&&(o.status="Intersection"),o}},{key:"intersectBezier3Bezier3",value:function(b,c,d,e,f,g,h,i){var j,k,l,m,n=new a("No Intersection");j=b.multiply(-1),k=c.multiply(3),l=d.multiply(-3),m=j.add(k.add(l.add(e)));var o=new A(m.x,m.y);j=b.multiply(3),k=c.multiply(-6),l=d.multiply(3),m=j.add(k.add(l));var q=new A(m.x,m.y);j=b.multiply(-3),k=c.multiply(3),l=j.add(k);var r=new A(l.x,l.y),s=new A(b.x,b.y);j=f.multiply(-1),k=g.multiply(3),l=h.multiply(-3),m=j.add(k.add(l.add(i)));var t=new A(m.x,m.y);j=f.multiply(3),k=g.multiply(-6),l=h.multiply(3),m=j.add(k.add(l));var u=new A(m.x,m.y);j=f.multiply(-3),k=g.multiply(3),l=j.add(k);var v=new A(l.x,l.y),w=new A(f.x,f.y);j=o.x*q.y-q.x*o.y,k=o.x*r.y-r.x*o.y;var x=o.x*s.y-s.x*o.y+w.x*o.y-o.x*w.y,y=v.x*o.y-o.x*v.y,z=u.x*o.y-o.x*u.y,B=t.x*o.y-o.x*t.y;m=o.x*r.y-r.x*o.y;var C=o.x*s.y+q.x*r.y-r.x*q.y-s.x*o.y+w.x*o.y-o.x*w.y,E=v.x*o.y-o.x*v.y,F=u.x*o.y-o.x*u.y,G=t.x*o.y-o.x*t.y,H=q.x*s.y-s.x*q.y+w.x*q.y-q.x*w.y,I=v.x*q.y-q.x*v.y,J=u.x*q.y-q.x*u.y,K=t.x*q.y-q.x*t.y,L=o.x*s.y-s.x*o.y+w.x*o.y-o.x*w.y,M=v.x*o.y-o.x*v.y,N=u.x*o.y-o.x*u.y,O=t.x*o.y-o.x*t.y,P=q.x*s.y-s.x*q.y+w.x*q.y-q.x*w.y,Q=v.x*q.y-q.x*v.y,R=u.x*q.y-q.x*u.y,S=t.x*q.y-q.x*t.y,T=r.x*s.y-s.x*r.y+w.x*r.y-r.x*w.y,U=v.x*r.y-r.x*v.y,V=u.x*r.y-r.x*u.y,W=t.x*r.y-r.x*t.y,X=new D(-B*G*O,-B*G*N-B*F*O-z*G*O,-B*G*M-B*F*N-z*G*N-B*E*O-z*F*O-y*G*O,-B*G*L-B*F*M-z*G*M-B*E*N-z*F*N-y*G*N-B*C*O-z*E*O-y*F*O-x*G*O+k*K*O+B*m*S-j*K*S+j*G*W,-B*F*L-z*G*L-B*E*M-z*F*M-y*G*M-B*C*N-z*E*N-y*F*N-x*G*N+k*K*N-z*C*O-y*E*O-x*F*O+k*J*O+B*m*R-j*K*R+z*m*S-j*J*S+j*G*V+j*F*W,-B*E*L-z*F*L-y*G*L-B*C*M-z*E*M-y*F*M-x*G*M+k*K*M-z*C*N-y*E*N-x*F*N+k*J*N-y*C*O-x*E*O+k*I*O+B*m*Q-j*K*Q+z*m*R-j*J*R+y*m*S-j*I*S+j*G*U+j*F*V+j*E*W,-B*C*L-z*E*L-y*F*L-x*G*L+k*K*L-z*C*M-y*E*M-x*F*M+k*J*M-y*C*N-x*E*N+k*I*N-x*C*O+k*H*O+B*m*P-j*K*P+z*m*Q-j*J*Q+y*m*R-j*I*R+x*m*S-j*H*S+j*G*T+j*F*U+j*E*V-k*m*W+j*C*W,-z*C*L-y*E*L-x*F*L+k*J*L-y*C*M-x*E*M+k*I*M-x*C*N+k*H*N+z*m*P-j*J*P+y*m*Q-j*I*Q+x*m*R-j*H*R+j*F*T+j*E*U-k*m*V+j*C*V,-y*C*L-x*E*L+k*I*L-x*C*M+k*H*M+y*m*P-j*I*P+x*m*Q-j*H*Q+j*E*T-k*m*U+j*C*U,-x*C*L+k*H*L+x*m*P-j*H*P-k*m*T+j*C*T);X.simplifyEquals();var Y,Z=X.getRootsInInterval(0,1),$=p(Z);try{for($.s();!(Y=$.n()).done;){var _=Y.value,aa=new D(o.x,q.x,r.x,s.x-w.x-_*v.x-_*_*u.x-_*_*_*t.x);aa.simplifyEquals();var ba=aa.getRoots(),ca=new D(o.y,q.y,r.y,s.y-w.y-_*v.y-_*_*u.y-_*_*_*t.y);ca.simplifyEquals();var da=ca.getRoots();if(ba.length>0&&da.length>0){var ea,fa=1e-4,ga=p(ba);try{a:for(ga.s();!(ea=ga.n()).done;){var ha=ea.value;if(0<=ha&&ha<=1)for(var ia=0;ia<da.length;ia++)if(Math.abs(ha-da[ia])<fa){n.points.push(t.multiply(_*_*_).add(u.multiply(_*_).add(v.multiply(_).add(w))));break a}}}catch(ja){ga.e(ja)}finally{ga.f()}}}}catch(ja){$.e(ja)}finally{$.f()}return n.points.length>0&&(n.status="Intersection"),n}},{key:"intersectBezier3Circle",value:function(b,c,d,e,f,g){return a.intersectBezier3Ellipse(b,c,d,e,f,g,g)}},{key:"intersectBezier3Ellipse",value:function(b,c,d,e,f,g,h){var i,j,k,l,m=new a("No Intersection");i=b.multiply(-1),j=c.multiply(3),k=d.multiply(-3),l=i.add(j.add(k.add(e)));var n=new A(l.x,l.y);i=b.multiply(3),j=c.multiply(-6),k=d.multiply(3),l=i.add(j.add(k));var o=new A(l.x,l.y);i=b.multiply(-3),j=c.multiply(3),k=i.add(j);var q,r=new A(k.x,k.y),s=new A(b.x,b.y),t=g*g,u=h*h,v=new D(n.x*n.x*u+n.y*n.y*t,2*(n.x*o.x*u+n.y*o.y*t),2*(n.x*r.x*u+n.y*r.y*t)+o.x*o.x*u+o.y*o.y*t,2*n.x*u*(s.x-f.x)+2*n.y*t*(s.y-f.y)+2*(o.x*r.x*u+o.y*r.y*t),2*o.x*u*(s.x-f.x)+2*o.y*t*(s.y-f.y)+r.x*r.x*u+r.y*r.y*t,2*r.x*u*(s.x-f.x)+2*r.y*t*(s.y-f.y),s.x*s.x*u-2*s.y*f.y*t-2*s.x*f.x*u+s.y*s.y*t+f.x*f.x*u+f.y*f.y*t-t*u),w=v.getRootsInInterval(0,1),x=p(w);try{for(x.s();!(q=x.n()).done;){var y=q.value;m.points.push(n.multiply(y*y*y).add(o.multiply(y*y).add(r.multiply(y).add(s))))}}catch(z){x.e(z)}finally{x.f()}return m.points.length>0&&(m.status="Intersection"),m}},{key:"intersectBezier3Line",value:function(b,c,d,e,f,g){var h,i,j,k,l=f.min(g),m=f.max(g),n=new a("No Intersection");h=b.multiply(-1),i=c.multiply(3),j=d.multiply(-3),k=h.add(i.add(j.add(e)));var o=new B(k.x,k.y);h=b.multiply(3),i=c.multiply(-6),j=d.multiply(3),k=h.add(i.add(j));var q=new B(k.x,k.y);h=b.multiply(-3),i=c.multiply(3),j=h.add(i);var r,s=new B(j.x,j.y),t=new B(b.x,b.y),u=new B(f.y-g.y,g.x-f.x),v=f.x*g.y-g.x*f.y,w=new D(u.dot(o),u.dot(q),u.dot(s),u.dot(t)+v).getRoots(),x=p(w);try{for(x.s();!(r=x.n()).done;){var y=r.value;if(0<=y&&y<=1){var z=b.lerp(c,y),A=c.lerp(d,y),C=d.lerp(e,y),E=z.lerp(A,y),F=A.lerp(C,y),G=E.lerp(F,y);f.x===g.x?l.y<=G.y&&G.y<=m.y&&(n.status="Intersection",n.appendPoint(G)):f.y===g.y?l.x<=G.x&&G.x<=m.x&&(n.status="Intersection",n.appendPoint(G)):l.x<=G.x&&G.x<=m.x&&l.y<=G.y&&G.y<=m.y&&(n.status="Intersection",n.appendPoint(G))}}}catch(H){x.e(H)}finally{x.f()}return n}},{key:"intersectBezier3Polygon",value:function(b,c,d,e,f){return a.intersectBezier3Polyline(b,c,d,e,z(f))}},{key:"intersectBezier3Polyline",value:function(b,c,d,e,f){for(var g=new a("No Intersection"),h=f.length,i=0;i<h-1;i++){var j=f[i],k=f[i+1],l=a.intersectBezier3Line(b,c,d,e,j,k);g.appendPoints(l.points)}return g.points.length>0&&(g.status="Intersection"),g}},{key:"intersectBezier3Rectangle",value:function(b,c,d,e,f,g){var h=f.min(g),i=f.max(g),j=new A(i.x,h.y),k=new A(h.x,i.y),l=a.intersectBezier3Line(b,c,d,e,h,j),m=a.intersectBezier3Line(b,c,d,e,j,i),n=a.intersectBezier3Line(b,c,d,e,i,k),o=a.intersectBezier3Line(b,c,d,e,k,h),p=new a("No Intersection");return p.appendPoints(l.points),p.appendPoints(m.points),p.appendPoints(n.points),p.appendPoints(o.points),p.points.length>0&&(p.status="Intersection"),p}},{key:"intersectCircleCircle",value:function(b,c,d,e){var f,g=c+e,h=Math.abs(c-e),i=b.distanceFrom(d);if(i>g)f=new a("Outside");else if(i<h)f=new a("Inside");else{f=new a("Intersection");var j=(c*c-e*e+i*i)/(2*i),k=Math.sqrt(c*c-j*j),l=b.lerp(d,j/i),m=k/i;f.points.push(new A(l.x-m*(d.y-b.y),l.y+m*(d.x-b.x))),f.points.push(new A(l.x+m*(d.y-b.y),l.y-m*(d.x-b.x)))}return f}},{key:"intersectCircleEllipse",value:function(b,c,d,e,f){return a.intersectEllipseEllipse(b,c,c,d,e,f)}},{key:"intersectCircleLine",value:function(b,c,d,e){var f,g=(e.x-d.x)*(e.x-d.x)+(e.y-d.y)*(e.y-d.y),h=2*((e.x-d.x)*(d.x-b.x)+(e.y-d.y)*(d.y-b.y)),i=b.x*b.x+b.y*b.y+d.x*d.x+d.y*d.y-2*(b.x*d.x+b.y*d.y)-c*c,j=h*h-4*g*i;if(j<0)f=new a("Outside");else if(0===j)f=new a("Tangent");else{var k=Math.sqrt(j),l=(-h+k)/(2*g),m=(-h-k)/(2*g);(l<0||l>1)&&(m<0||m>1)?f=new a(l<0&&m<0||l>1&&m>1?"Outside":"Inside"):(f=new a("Intersection"),0<=l&&l<=1&&f.points.push(d.lerp(e,l)),0<=m&&m<=1&&f.points.push(d.lerp(e,m)))}return f}},{key:"intersectCirclePolygon",value:function(b,c,d){return a.intersectCirclePolyline(b,c,z(d))}},{key:"intersectCirclePolyline",value:function(b,c,d){for(var e,f=new a("No Intersection"),g=d.length,h=0;h<g-1;h++){var i=d[h],j=d[h+1];e=a.intersectCircleLine(b,c,i,j),f.appendPoints(e.points)}return f.points.length>0?f.status="Intersection":f.status=e.status,f}},{key:"intersectCircleRectangle",value:function(b,c,d,e){var f=d.min(e),g=d.max(e),h=new A(g.x,f.y),i=new A(f.x,g.y),j=a.intersectCircleLine(b,c,f,h),k=a.intersectCircleLine(b,c,h,g),l=a.intersectCircleLine(b,c,g,i),m=a.intersectCircleLine(b,c,i,f),n=new a("No Intersection");return n.appendPoints(j.points),n.appendPoints(k.points),n.appendPoints(l.points),n.appendPoints(m.points),n.points.length>0?n.status="Intersection":n.status=j.status,n}},{key:"intersectEllipseEllipse",value:function(b,c,d,e,f,g){for(var h=[d*d,0,c*c,-2*d*d*b.x,-2*c*c*b.y,d*d*b.x*b.x+c*c*b.y*b.y-c*c*d*d],i=[g*g,0,f*f,-2*g*g*e.x,-2*f*f*e.y,g*g*e.x*e.x+f*f*e.y*e.y-f*f*g*g],j=w(h,i),k=j.getRoots(),l=.001,m=(h[0]*h[0]+2*h[1]*h[1]+h[2]*h[2])*l,n=(i[0]*i[0]+2*i[1]*i[1]+i[2]*i[2])*l,o=new a("No Intersection"),p=0;p<k.length;p++)for(var q=new D(h[0],h[3]+k[p]*h[1],h[5]+k[p]*(h[4]+k[p]*h[2])),r=q.getRoots(),s=0;s<r.length;s++){var t=(h[0]*r[s]+h[1]*k[p]+h[3])*r[s]+(h[2]*k[p]+h[4])*k[p]+h[5];Math.abs(t)<m&&(t=(i[0]*r[s]+i[1]*k[p]+i[3])*r[s]+(i[2]*k[p]+i[4])*k[p]+i[5],Math.abs(t)<n&&o.appendPoint(new A(r[s],k[p])))}return o.points.length>0&&(o.status="Intersection"),o}},{key:"intersectEllipseLine",value:function(b,c,d,e,f){var g,h=new B(e.x,e.y),i=B.fromPoints(e,f),j=new B(b.x,b.y),k=h.subtract(j),l=new B(i.x/(c*c),i.y/(d*d)),m=new B(k.x/(c*c),k.y/(d*d)),n=i.dot(l),o=i.dot(m);b=k.dot(m)-1;var p=o*o-n*b;if(p<0)g=new a("Outside");else if(p>0){var q=Math.sqrt(p),r=(-o-q)/n,s=(-o+q)/n;(r<0||1<r)&&(s<0||1<s)?g=new a(r<0&&s<0||r>1&&s>1?"Outside":"Inside"):(g=new a("Intersection"),0<=r&&r<=1&&g.appendPoint(e.lerp(f,r)),0<=s&&s<=1&&g.appendPoint(e.lerp(f,s)))}else{var t=-o/n;0<=t&&t<=1?(g=new a("Intersection"),g.appendPoint(e.lerp(f,t))):g=new a("Outside")}return g}},{key:"intersectEllipsePolygon",value:function(b,c,d,e){return a.intersectEllipsePolyline(b,c,d,z(e))}},{key:"intersectEllipsePolyline",value:function(b,c,d,e){for(var f=new a("No Intersection"),g=e.length,h=0;h<g-1;h++){var i=e[h],j=e[h+1],k=a.intersectEllipseLine(b,c,d,i,j);f.appendPoints(k.points)}return f.points.length>0&&(f.status="Intersection"),f}},{key:"intersectEllipseRectangle",value:function(b,c,d,e,f){var g=e.min(f),h=e.max(f),i=new A(h.x,g.y),j=new A(g.x,h.y),k=a.intersectEllipseLine(b,c,d,g,i),l=a.intersectEllipseLine(b,c,d,i,h),m=a.intersectEllipseLine(b,c,d,h,j),n=a.intersectEllipseLine(b,c,d,j,g),o=new a("No Intersection");return o.appendPoints(k.points),o.appendPoints(l.points),o.appendPoints(m.points),o.appendPoints(n.points),o.points.length>0&&(o.status="Intersection"),o}},{key:"intersectLineLine",value:function(b,c,d,e){var f,g=(e.x-d.x)*(b.y-d.y)-(e.y-d.y)*(b.x-d.x),h=(c.x-b.x)*(b.y-d.y)-(c.y-b.y)*(b.x-d.x),i=(e.y-d.y)*(c.x-b.x)-(e.x-d.x)*(c.y-b.y);if(0!==i){var j=g/i,k=h/i;0<=j&&j<=1&&0<=k&&k<=1?(f=new a("Intersection"),f.points.push(new A(b.x+j*(c.x-b.x),b.y+j*(c.y-b.y)))):f=new a("No Intersection")}else f=new a(0===g||0===h?"Coincident":"Parallel");return f}},{key:"intersectLinePolygon",value:function(b,c,d){return a.intersectLinePolyline(b,c,z(d))}},{key:"intersectLinePolyline",value:function(b,c,d){for(var e=new a("No Intersection"),f=d.length,g=0;g<f-1;g++){var h=d[g],i=d[g+1],j=a.intersectLineLine(b,c,h,i);e.appendPoints(j.points)}return e.points.length>0&&(e.status="Intersection"),e}},{key:"intersectLineRectangle",value:function(b,c,d,e){var f=d.min(e),g=d.max(e),h=new A(g.x,f.y),i=new A(f.x,g.y),j=a.intersectLineLine(f,h,b,c),k=a.intersectLineLine(h,g,b,c),l=a.intersectLineLine(g,i,b,c),m=a.intersectLineLine(i,f,b,c),n=new a("No Intersection");return n.appendPoints(j.points),n.appendPoints(k.points),n.appendPoints(l.points),n.appendPoints(m.points),n.points.length>0&&(n.status="Intersection"),n}},{key:"intersectPolygonPolygon",value:function(b,c){return a.intersectPolylinePolyline(z(b),z(c))}},{key:"intersectPolygonPolyline",value:function(b,c){return a.intersectPolylinePolyline(z(b),c)}},{key:"intersectPolygonRectangle",value:function(b,c,d){return a.intersectPolylineRectangle(z(b),c,d)}},{key:"intersectPolylinePolyline",value:function(b,c){for(var d=new a("No Intersection"),e=b.length,f=0;f<e-1;f++){var g=b[f],h=b[f+1],i=a.intersectLinePolyline(g,h,c);d.appendPoints(i.points)}return d.points.length>0&&(d.status="Intersection"),d}},{key:"intersectPolylineRectangle",value:function(b,c,d){var e=c.min(d),f=c.max(d),g=new A(f.x,e.y),h=new A(e.x,f.y),i=a.intersectLinePolyline(e,g,b),j=a.intersectLinePolyline(g,f,b),k=a.intersectLinePolyline(f,h,b),l=a.intersectLinePolyline(h,e,b),m=new a("No Intersection");return m.appendPoints(i.points),m.appendPoints(j.points),m.appendPoints(k.points),m.appendPoints(l.points),m.points.length>0&&(m.status="Intersection"),m}},{key:"intersectRectangleRectangle",value:function(b,c,d,e){var f=b.min(c),g=b.max(c),h=new A(g.x,f.y),i=new A(f.x,g.y),j=a.intersectLineRectangle(f,h,d,e),k=a.intersectLineRectangle(h,g,d,e),l=a.intersectLineRectangle(g,i,d,e),m=a.intersectLineRectangle(i,f,d,e),n=new a("No Intersection");return n.appendPoints(j.points),n.appendPoints(k.points),n.appendPoints(l.points),n.appendPoints(m.points),n.points.length>0&&(n.status="Intersection"),n}},{key:"intersectRayRay",value:function(b,c,d,e){var f,g=(e.x-d.x)*(b.y-d.y)-(e.y-d.y)*(b.x-d.x),h=(c.x-b.x)*(b.y-d.y)-(c.y-b.y)*(b.x-d.x),i=(e.y-d.y)*(c.x-b.x)-(e.x-d.x)*(c.y-b.y);if(0!==i){var j=g/i;f=new a("Intersection"),f.points.push(new A(b.x+j*(c.x-b.x),b.y+j*(c.y-b.y)))}else f=new a(0===g||0===h?"Coincident":"Parallel");return f}}]),a}(),R=function(){function a(){c(this,a)}return e(a,null,[{key:"arc",value:function(a,b,c,d,e,f){return M.arc.apply(M,arguments)}},{key:"quadraticBezier",value:function(a,b,c,d,e,f){return M.quadraticBezier.apply(M,arguments)}},{key:"cubicBezier",value:function(a,b,c,d,e,f,g,h){return M.cubicBezier.apply(M,arguments)}},{key:"circle",value:function(a,b,c){return M.circle.apply(M,arguments)}},{key:"ellipse",value:function(a,b,c,d){return M.ellipse.apply(M,arguments)}},{key:"line",value:function(a,b,c,d){return M.line.apply(M,arguments)}},{key:"path",value:function(a){return M.path.apply(M,arguments)}},{key:"polygon",value:function(a){return M.polygon.apply(M,arguments)}},{key:"polyline",value:function(a){return M.polyline.apply(M,arguments)}},{key:"rectangle",value:function(a,b,c,d){return M.rectangle.apply(M,arguments)}}]),a}(),S=function(){function a(){c(this,a)}return e(a,null,[{key:"arc",value:function(a,b,c,d,e){return M.arc.apply(M,arguments)}},{key:"quadraticBezier",value:function(a,b,c){return M.quadraticBezier.apply(M,arguments)}},{key:"cubicBezier",value:function(a,b,c,d){return M.cubicBezier.apply(M,arguments)}},{key:"circle",value:function(a,b){return M.circle.apply(M,arguments)}},{key:"ellipse",value:function(a,b,c){return M.ellipse.apply(M,arguments)}},{key:"line",value:function(a,b){return M.line.apply(M,arguments)}},{key:"path",value:function(a){return M.path.apply(M,arguments)}},{key:"polygon",value:function(a){return M.polygon.apply(M,arguments)}},{key:"polyline",value:function(a){return M.polyline.apply(M,arguments)}},{key:"rectangle",value:function(a,b){return M.rectangle.apply(M,arguments)}}]),a}(),T=function(){function a(){c(this,a)}return e(a,null,[{key:"circle",value:function(a){if(a instanceof SVGCircleElement==!1)throw new TypeError("Expected SVGCircleElement, but found ".concat(a));var b=new A(a.cx.baseVal.value,a.cy.baseVal.value),c=a.r.baseVal.value;return M.circle(b,c)}},{key:"ellipse",value:function(a){if(a instanceof SVGEllipseElement==!1)throw new TypeError("Expected SVGEllipseElement, but found ".concat(a));var b=new A(a.cx.baseVal.value,a.cy.baseVal.value),c=a.rx.baseVal.value,d=a.ry.baseVal.value;return M.ellipse(b,c,d)}},{key:"line",value:function(a){if(a instanceof SVGLineElement==!1)throw new TypeError("Expected SVGLineElement, but found ".concat(a));var b=new A(a.x1.baseVal.value,a.y1.baseVal.value),c=new A(a.x2.baseVal.value,a.y2.baseVal.value);return M.line(b,c)}},{key:"path",value:function(a){if(a instanceof SVGPathElement==!1)throw new TypeError("Expected SVGPathElement, but found ".concat(a));var b=a.getAttributeNS(null,"d");return M.path(b)}},{key:"polygon",value:function(a){if(a instanceof SVGPolygonElement==!1)throw new TypeError("Expected SVGPolygonElement, but found ".concat(a));for(var b=[],c=0;c<a.points.numberOfItems;c++){var d=a.points.getItem(c);b.push(new A(d.x,d.y))}return M.polygon(b)}},{key:"polyline",value:function(a){if(a instanceof SVGPolylineElement==!1)throw new TypeError("Expected SVGPolylineElement, but found ".concat(a));for(var b=[],c=0;c<a.points.numberOfItems;c++){var d=a.points.getItem(c);b.push(new A(d.x,d.y))}return M.polyline(b)}},{key:"rect",value:function(a){if(a instanceof SVGRectElement==!1)throw new TypeError("Expected SVGRectElement, but found ".concat(a));return M.rectangle(a.x.baseVal.value,a.y.baseVal.value,a.width.baseVal.value,a.height.baseVal.value,a.rx.baseVal.value,a.ry.baseVal.value)}},{key:"element",value:function(b){if(b instanceof SVGElement==!1)throw new TypeError("Expected SVGElement, but found ".concat(b));var c=b.tagName;switch(c){case"circle":return a.circle(b);case"ellipse":return a.ellipse(b);case"line":return a.line(b);case"path":return a.path(b);case"polygon":return a.polygon(b);case"polyline":return a.polyline(b);case"rect":return a.rect(b);default:throw new TypeError("Unrecognized element type: '".concat(c,"'"))}}}]),a}(),U={};U.pointInCircle=function(a,b,c){var d=B.fromPoints(b,a);return d.length()<=c},U.pointInEllipse=function(a,b,c,d){var e=a.subtract(b);return e.x*e.x/(c*c)+e.y*e.y/(d*d)<=1},U.pointInPolyline=function(a,b){for(var c,d=b.length,e=0,f=b[0],g=1;g<=d;g++){var h=b[g%d],i=Math.min(f.y,h.y),j=Math.max(f.y,h.y),k=Math.max(f.x,h.x);f.y!==h.y&&i<a.y&&a.y<=j&&a.x<=k&&(c=(a.y-f.y)*(h.x-f.x)/(h.y-f.y)+f.x,(f.x===h.x||a.x<=c)&&e++),f=h}return e%2===1},U.pointInPolygon=U.pointInPolyline,U.pointInRectangle=function(a,b,c){return b.x<=a.x&&a.x<c.x&&b.y<=a.y&&a.y<c.y},a.AffineShapes=S,a.Intersection=Q,a.IntersectionArgs=M,a.IntersectionQuery=U,a.Matrix2D=C,a.Point2D=A,a.ShapeInfo=M,a.Shapes=R,a.SvgShapes=T,a.Vector2D=B,Object.defineProperty(a,"__esModule",{value:!0})});var a={version:"0.11.10"};return function(a,b){"use strict";var c=a.window,d=a.document;b.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},b.noop=function(a){return a},b.alphaNumerate=function(a){return String.fromCharCode(97+a%26)},b.extend=function(a){var c,d,e;for(a=a||{},c=1;c<arguments.length;c++){d=arguments[c];for(var f in d)e=d[f],"object"!=typeof e||null===e||e instanceof Array?a[f]=e:a[f]=b.extend(a[f],e)}return a},b.replaceAll=function(a,b,c){return a.replace(new RegExp(b,"g"),c)},b.ensureUnit=function(a,b){return"number"==typeof a&&(a+=b),a},b.quantity=function(a){if("string"==typeof a){var b=/^(\d+)\s*(.*)$/g.exec(a);return{value:+b[1],unit:b[2]||void 0}}return{value:a}},b.querySelector=function(a){return a instanceof Node?a:d.querySelector(a)},b.times=function(a){return Array.apply(null,new Array(a))},b.sum=function(a,b){return a+(b?b:0)},b.mapMultiply=function(a){return function(b){return b*a}},b.mapAdd=function(a){return function(b){return b+a}},b.serialMap=function(a,c){var d=[],e=Math.max.apply(null,a.map(function(a){return a.length}));return b.times(e).forEach(function(b,e){var f=a.map(function(a){return a[e]});d[e]=c.apply(null,f)}),d},b.roundWithPrecision=function(a,c){var d=Math.pow(10,c||b.precision);return Math.round(a*d)/d},b.precision=8,b.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},b.serialize=function(a){return null===a||void 0===a?a:("number"==typeof a?a=""+a:"object"==typeof a&&(a=JSON.stringify({data:a})),Object.keys(b.escapingMap).reduce(function(a,c){return b.replaceAll(a,c,b.escapingMap[c])},a))},b.deserialize=function(a){if("string"!=typeof a)return a;a=Object.keys(b.escapingMap).reduce(function(a,c){return b.replaceAll(a,b.escapingMap[c],c)},a);try{a=JSON.parse(a),a=void 0!==a.data?a.data:a}catch(c){}return a},b.createSvg=function(a,c,d,e){var f;return c=c||"100%",d=d||"100%",Array.prototype.slice.call(a.querySelectorAll("svg")).filter(function(a){return a.getAttributeNS(b.namespaces.xmlns,"ct")}).forEach(function(b){a.removeChild(b)}),f=new b.Svg("svg").attr({width:c,height:d}).addClass(e),f._node.style.width=c,f._node.style.height=d,a.appendChild(f._node),f},b.normalizeData=function(a,c,d){var e,f={raw:a,normalized:{}};return f.normalized.series=b.getDataArray({series:a.series||[]},c,d),e=f.normalized.series.every(function(a){return a instanceof Array})?Math.max.apply(null,f.normalized.series.map(function(a){return a.length})):f.normalized.series.length,f.normalized.labels=(a.labels||[]).slice(),Array.prototype.push.apply(f.normalized.labels,b.times(Math.max(0,e-f.normalized.labels.length)).map(function(){return""})),c&&b.reverseData(f.normalized),f},b.safeHasProperty=function(a,b){return null!==a&&"object"==typeof a&&a.hasOwnProperty(b)},b.isDataHoleValue=function(a){return null===a||void 0===a||"number"==typeof a&&isNaN(a)},b.reverseData=function(a){a.labels.reverse(),a.series.reverse();for(var b=0;b<a.series.length;b++)"object"==typeof a.series[b]&&void 0!==a.series[b].data?a.series[b].data.reverse():a.series[b]instanceof Array&&a.series[b].reverse()},b.getDataArray=function(a,c,d){function e(a){if(b.safeHasProperty(a,"value"))return e(a.value);if(b.safeHasProperty(a,"data"))return e(a.data);if(a instanceof Array)return a.map(e);if(!b.isDataHoleValue(a)){if(d){var c={};return"string"==typeof d?c[d]=b.getNumberOrUndefined(a):c.y=b.getNumberOrUndefined(a),c.x=a.hasOwnProperty("x")?b.getNumberOrUndefined(a.x):c.x,c.y=a.hasOwnProperty("y")?b.getNumberOrUndefined(a.y):c.y,c}return b.getNumberOrUndefined(a)}}return a.series.map(e)},b.normalizePadding=function(a,b){return b=b||0,"number"==typeof a?{top:a,right:a,bottom:a,left:a}:{top:"number"==typeof a.top?a.top:b,right:"number"==typeof a.right?a.right:b,bottom:"number"==typeof a.bottom?a.bottom:b,left:"number"==typeof a.left?a.left:b}},b.getMetaData=function(a,b){var c=a.data?a.data[b]:a[b];return c?c.meta:void 0},b.orderOfMagnitude=function(a){return Math.floor(Math.log(Math.abs(a))/Math.LN10)},b.projectLength=function(a,b,c){return b/c.range*a},b.getAvailableHeight=function(a,c){return Math.max((b.quantity(c.height).value||a.height())-(c.chartPadding.top+c.chartPadding.bottom)-c.axisX.offset,0)},b.getHighLow=function(a,c,d){function e(a){if(void 0!==a)if(a instanceof Array)for(var b=0;b<a.length;b++)e(a[b]);else{var c=d?+a[d]:+a;g&&c>f.high&&(f.high=c),h&&c<f.low&&(f.low=c)}}c=b.extend({},c,d?c["axis"+d.toUpperCase()]:{});var f={high:void 0===c.high?-Number.MAX_VALUE:+c.high,low:void 0===c.low?Number.MAX_VALUE:+c.low},g=void 0===c.high,h=void 0===c.low;return(g||h)&&e(a),(c.referenceValue||0===c.referenceValue)&&(f.high=Math.max(c.referenceValue,f.high),f.low=Math.min(c.referenceValue,f.low)),f.high<=f.low&&(0===f.low?f.high=1:f.low<0?f.high=0:f.high>0?f.low=0:(f.high=1,f.low=0)),f},b.isNumeric=function(a){return null!==a&&isFinite(a)},b.isFalseyButZero=function(a){return!a&&0!==a},b.getNumberOrUndefined=function(a){
return b.isNumeric(a)?+a:void 0},b.isMultiValue=function(a){return"object"==typeof a&&("x"in a||"y"in a)},b.getMultiValue=function(a,c){return b.isMultiValue(a)?b.getNumberOrUndefined(a[c||"y"]):b.getNumberOrUndefined(a)},b.rho=function(a){function b(a,c){return a%c===0?c:b(c,a%c)}function c(a){return a*a+1}if(1===a)return a;var d,e=2,f=2;if(a%2===0)return 2;do e=c(e)%a,f=c(c(f))%a,d=b(Math.abs(e-f),a);while(1===d);return d},b.getBounds=function(a,c,d,e){function f(a,b){return a===(a+=b)&&(a*=1+(b>0?o:-o)),a}var g,h,i,j=0,k={high:c.high,low:c.low};k.valueRange=k.high-k.low,k.oom=b.orderOfMagnitude(k.valueRange),k.step=Math.pow(10,k.oom),k.min=Math.floor(k.low/k.step)*k.step,k.max=Math.ceil(k.high/k.step)*k.step,k.range=k.max-k.min,k.numberOfSteps=Math.round(k.range/k.step);var l=b.projectLength(a,k.step,k),m=l<d,n=e?b.rho(k.range):0;if(e&&b.projectLength(a,1,k)>=d)k.step=1;else if(e&&n<k.step&&b.projectLength(a,n,k)>=d)k.step=n;else for(;;){if(m&&b.projectLength(a,k.step,k)<=d)k.step*=2;else{if(m||!(b.projectLength(a,k.step/2,k)>=d))break;if(k.step/=2,e&&k.step%1!==0){k.step*=2;break}}if(j++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var o=2.221e-16;for(k.step=Math.max(k.step,o),h=k.min,i=k.max;h+k.step<=k.low;)h=f(h,k.step);for(;i-k.step>=k.high;)i=f(i,-k.step);k.min=h,k.max=i,k.range=k.max-k.min;var p=[];for(g=k.min;g<=k.max;g=f(g,k.step)){var q=b.roundWithPrecision(g);q!==p[p.length-1]&&p.push(q)}return k.values=p,k},b.polarToCartesian=function(a,b,c,d){var e=(d-90)*Math.PI/180;return{x:a+c*Math.cos(e),y:b+c*Math.sin(e)}},b.createChartRect=function(a,c,d){var e=!(!c.axisX&&!c.axisY),f=e?c.axisY.offset:0,g=e?c.axisX.offset:0,h=a.width()||b.quantity(c.width).value||0,i=a.height()||b.quantity(c.height).value||0,j=b.normalizePadding(c.chartPadding,d);h=Math.max(h,f+j.left+j.right),i=Math.max(i,g+j.top+j.bottom);var k={padding:j,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return e?("start"===c.axisX.position?(k.y2=j.top+g,k.y1=Math.max(i-j.bottom,k.y2+1)):(k.y2=j.top,k.y1=Math.max(i-j.bottom-g,k.y2+1)),"start"===c.axisY.position?(k.x1=j.left+f,k.x2=Math.max(h-j.right,k.x1+1)):(k.x1=j.left,k.x2=Math.max(h-j.right-f,k.x1+1))):(k.x1=j.left,k.x2=Math.max(h-j.right,k.x1+1),k.y2=j.top,k.y1=Math.max(i-j.bottom,k.y2+1)),k},b.createGrid=function(a,c,d,e,f,g,h,i){var j={};j[d.units.pos+"1"]=a,j[d.units.pos+"2"]=a,j[d.counterUnits.pos+"1"]=e,j[d.counterUnits.pos+"2"]=e+f;var k=g.elem("line",j,h.join(" "));i.emit("draw",b.extend({type:"grid",axis:d,index:c,group:g,element:k},j))},b.createGridBackground=function(a,b,c,d){var e=a.elem("rect",{x:b.x1,y:b.y2,width:b.width(),height:b.height()},c,!0);d.emit("draw",{type:"gridBackground",group:a,element:e})},b.createLabel=function(a,c,e,f,g,h,i,j,k,l,m){var n,o={};if(o[g.units.pos]=a+i[g.units.pos],o[g.counterUnits.pos]=i[g.counterUnits.pos],o[g.units.len]=c,o[g.counterUnits.len]=Math.max(0,h-10),l){var p=d.createElement("span");p.className=k.join(" "),p.setAttribute("xmlns",b.namespaces.xhtml),p.innerText=f[e],p.style[g.units.len]=Math.round(o[g.units.len])+"px",p.style[g.counterUnits.len]=Math.round(o[g.counterUnits.len])+"px",n=j.foreignObject(p,b.extend({style:"overflow: visible;"},o))}else n=j.elem("text",o,k.join(" ")).text(f[e]);m.emit("draw",b.extend({type:"label",axis:g,index:e,group:j,element:n,text:f[e]},o))},b.getSeriesOption=function(a,b,c){if(a.name&&b.series&&b.series[a.name]){var d=b.series[a.name];return d.hasOwnProperty(c)?d[c]:b[c]}return b[c]},b.optionsProvider=function(a,d,e){function f(a){var f=h;if(h=b.extend({},j),d)for(i=0;i<d.length;i++){var g=c.matchMedia(d[i][0]);g.matches&&(h=b.extend(h,d[i][1]))}e&&a&&e.emit("optionsChanged",{previousOptions:f,currentOptions:h})}function g(){k.forEach(function(a){a.removeListener(f)})}var h,i,j=b.extend({},a),k=[];if(!c.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(d)for(i=0;i<d.length;i++){var l=c.matchMedia(d[i][0]);l.addListener(f),k.push(l)}return f(),{removeMediaQueryListeners:g,getCurrentOptions:function(){return b.extend({},h)}}},b.splitIntoSegments=function(a,c,d){var e={increasingX:!1,fillHoles:!1};d=b.extend({},e,d);for(var f=[],g=!0,h=0;h<a.length;h+=2)void 0===b.getMultiValue(c[h/2].value)?d.fillHoles||(g=!0):(d.increasingX&&h>=2&&a[h]<=a[h-2]&&(g=!0),g&&(f.push({pathCoordinates:[],valueData:[]}),g=!1),f[f.length-1].pathCoordinates.push(a[h],a[h+1]),f[f.length-1].valueData.push(c[h/2]));return f}}(this||global,a),function(a,b){"use strict";b.Interpolation={},b.Interpolation.none=function(a){var c={fillHoles:!1};return a=b.extend({},c,a),function(c,d){for(var e=new b.Svg.Path,f=!0,g=0;g<c.length;g+=2){var h=c[g],i=c[g+1],j=d[g/2];void 0!==b.getMultiValue(j.value)?(f?e.move(h,i,!1,j):e.line(h,i,!1,j),f=!1):a.fillHoles||(f=!0)}return e}},b.Interpolation.simple=function(a){var c={divisor:2,fillHoles:!1};a=b.extend({},c,a);var d=1/Math.max(1,a.divisor);return function(c,e){for(var f,g,h,i=new b.Svg.Path,j=0;j<c.length;j+=2){var k=c[j],l=c[j+1],m=(k-f)*d,n=e[j/2];void 0!==n.value?(void 0===h?i.move(k,l,!1,n):i.curve(f+m,g,k-m,l,k,l,!1,n),f=k,g=l,h=n):a.fillHoles||(f=k=h=void 0)}return i}},b.Interpolation.cardinal=function(a){var c={tension:1,fillHoles:!1};a=b.extend({},c,a);var d=Math.min(1,Math.max(0,a.tension)),e=1-d;return function f(c,g){var h=b.splitIntoSegments(c,g,{fillHoles:a.fillHoles});if(h.length){if(h.length>1){var i=[];return h.forEach(function(a){i.push(f(a.pathCoordinates,a.valueData))}),b.Svg.Path.join(i)}if(c=h[0].pathCoordinates,g=h[0].valueData,c.length<=4)return b.Interpolation.none()(c,g);for(var j,k=(new b.Svg.Path).move(c[0],c[1],!1,g[0]),l=0,m=c.length;m-2*!j>l;l+=2){var n=[{x:+c[l-2],y:+c[l-1]},{x:+c[l],y:+c[l+1]},{x:+c[l+2],y:+c[l+3]},{x:+c[l+4],y:+c[l+5]}];j?l?m-4===l?n[3]={x:+c[0],y:+c[1]}:m-2===l&&(n[2]={x:+c[0],y:+c[1]},n[3]={x:+c[2],y:+c[3]}):n[0]={x:+c[m-2],y:+c[m-1]}:m-4===l?n[3]=n[2]:l||(n[0]={x:+c[l],y:+c[l+1]}),k.curve(d*(-n[0].x+6*n[1].x+n[2].x)/6+e*n[2].x,d*(-n[0].y+6*n[1].y+n[2].y)/6+e*n[2].y,d*(n[1].x+6*n[2].x-n[3].x)/6+e*n[2].x,d*(n[1].y+6*n[2].y-n[3].y)/6+e*n[2].y,n[2].x,n[2].y,!1,g[(l+2)/2])}return k}return b.Interpolation.none()([])}},b.Interpolation.monotoneCubic=function(a){var c={fillHoles:!1};return a=b.extend({},c,a),function d(c,e){var f=b.splitIntoSegments(c,e,{fillHoles:a.fillHoles,increasingX:!0});if(f.length){if(f.length>1){var g=[];return f.forEach(function(a){g.push(d(a.pathCoordinates,a.valueData))}),b.Svg.Path.join(g)}if(c=f[0].pathCoordinates,e=f[0].valueData,c.length<=4)return b.Interpolation.none()(c,e);var h,i,j=[],k=[],l=c.length/2,m=[],n=[],o=[],p=[];for(h=0;h<l;h++)j[h]=c[2*h],k[h]=c[2*h+1];for(h=0;h<l-1;h++)o[h]=k[h+1]-k[h],p[h]=j[h+1]-j[h],n[h]=o[h]/p[h];for(m[0]=n[0],m[l-1]=n[l-2],h=1;h<l-1;h++)0===n[h]||0===n[h-1]||n[h-1]>0!=n[h]>0?m[h]=0:(m[h]=3*(p[h-1]+p[h])/((2*p[h]+p[h-1])/n[h-1]+(p[h]+2*p[h-1])/n[h]),isFinite(m[h])||(m[h]=0));for(i=(new b.Svg.Path).move(j[0],k[0],!1,e[0]),h=0;h<l-1;h++)i.curve(j[h]+p[h]/3,k[h]+m[h]*p[h]/3,j[h+1]-p[h]/3,k[h+1]-m[h+1]*p[h]/3,j[h+1],k[h+1],!1,e[h+1]);return i}return b.Interpolation.none()([])}},b.Interpolation.step=function(a){var c={postpone:!0,fillHoles:!1};return a=b.extend({},c,a),function(c,d){for(var e,f,g,h=new b.Svg.Path,i=0;i<c.length;i+=2){var j=c[i],k=c[i+1],l=d[i/2];void 0!==l.value?(void 0===g?h.move(j,k,!1,l):(a.postpone?h.line(j,f,!1,g):h.line(e,k,!1,l),h.line(j,k,!1,l)),e=j,f=k,g=l):a.fillHoles||(e=f=g=void 0)}return h}}}(this||global,a),function(a,b){"use strict";b.EventEmitter=function(){function a(a,b){d[a]=d[a]||[],d[a].push(b)}function b(a,b){d[a]&&(b?(d[a].splice(d[a].indexOf(b),1),0===d[a].length&&delete d[a]):delete d[a])}function c(a,b){d[a]&&d[a].forEach(function(a){a(b)}),d["*"]&&d["*"].forEach(function(c){c(a,b)})}var d=[];return{addEventHandler:a,removeEventHandler:b,emit:c}}}(this||global,a),function(a,b){"use strict";function c(a){var b=[];if(a.length)for(var c=0;c<a.length;c++)b.push(a[c]);return b}function d(a,c){var d=c||this.prototype||b.Class,e=Object.create(d);b.Class.cloneDefinitions(e,a);var f=function(){var a,c=e.constructor||function(){};return a=this===b?Object.create(e):this,c.apply(a,Array.prototype.slice.call(arguments,0)),a};return f.prototype=e,f["super"]=d,f.extend=this.extend,f}function e(){var a=c(arguments),b=a[0];return a.splice(1,a.length-1).forEach(function(a){Object.getOwnPropertyNames(a).forEach(function(c){delete b[c],Object.defineProperty(b,c,Object.getOwnPropertyDescriptor(a,c))})}),b}b.Class={extend:d,cloneDefinitions:e}}(this||global,a),function(a,b){"use strict";function c(a,c,d){return a&&(this.data=a||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),c&&(this.options=b.extend({},d?this.options:this.defaultOptions,c),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=b.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function d(){return this.initializeTimeoutId?i.clearTimeout(this.initializeTimeoutId):(i.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function e(a,b){return this.eventEmitter.addEventHandler(a,b),this}function f(a,b){return this.eventEmitter.removeEventHandler(a,b),this}function g(){i.addEventListener("resize",this.resizeListener),this.optionsProvider=b.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(a){a instanceof Array?a[0](this,a[1]):a(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function h(a,c,d,e,f){this.container=b.querySelector(a),this.data=c||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=d,this.options=e,this.responsiveOptions=f,this.eventEmitter=b.EventEmitter(),this.supportsForeignObject=b.Svg.isSupported("Extensibility"),this.supportsAnimations=b.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(g.bind(this),0)}var i=a.window;b.Base=b.Class.extend({constructor:h,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:c,detach:d,on:e,off:f,version:b.version,supportsForeignObject:!1})}(this||global,a),function(a,b){"use strict";function c(a,c,d,e,f){a instanceof Element?this._node=a:(this._node=y.createElementNS(b.namespaces.svg,a),"svg"===a&&this.attr({"xmlns:ct":b.namespaces.ct})),c&&this.attr(c),d&&this.addClass(d),e&&(f&&e._node.firstChild?e._node.insertBefore(this._node,e._node.firstChild):e._node.appendChild(this._node))}function d(a,c){return"string"==typeof a?c?this._node.getAttributeNS(c,a):this._node.getAttribute(a):(Object.keys(a).forEach(function(c){if(void 0!==a[c])if(c.indexOf(":")!==-1){var d=c.split(":");this._node.setAttributeNS(b.namespaces[d[0]],c,a[c])}else this._node.setAttribute(c,a[c])}.bind(this)),this)}function e(a,c,d,e){return new b.Svg(a,c,d,this,e)}function f(){return this._node.parentNode instanceof SVGElement?new b.Svg(this._node.parentNode):null}function g(){for(var a=this._node;"svg"!==a.nodeName;)a=a.parentNode;return new b.Svg(a)}function h(a){var c=this._node.querySelector(a);return c?new b.Svg(c):null}function i(a){var c=this._node.querySelectorAll(a);return c.length?new b.Svg.List(c):null}function j(){return this._node}function k(a,c,d,e){if("string"==typeof a){var f=y.createElement("div");f.innerHTML=a,a=f.firstChild}a.setAttribute("xmlns",b.namespaces.xmlns);var g=this.elem("foreignObject",c,d,e);return g._node.appendChild(a),g}function l(a){return this._node.appendChild(y.createTextNode(a)),this}function m(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function n(){return this._node.parentNode.removeChild(this._node),this.parent()}function o(a){return this._node.parentNode.replaceChild(a._node,this._node),a}function p(a,b){return b&&this._node.firstChild?this._node.insertBefore(a._node,this._node.firstChild):this._node.appendChild(a._node),this}function q(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function r(a){return this._node.setAttribute("class",this.classes(this._node).concat(a.trim().split(/\s+/)).filter(function(a,b,c){return c.indexOf(a)===b}).join(" ")),this}function s(a){var b=a.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(a){return b.indexOf(a)===-1}).join(" ")),this}function t(){return this._node.setAttribute("class",""),this}function u(){return this._node.getBoundingClientRect().height}function v(){return this._node.getBoundingClientRect().width}function w(a,c,d){return void 0===c&&(c=!0),Object.keys(a).forEach(function(e){function f(a,c){var f,g,h,i={};a.easing&&(h=a.easing instanceof Array?a.easing:b.Svg.Easing[a.easing],delete a.easing),a.begin=b.ensureUnit(a.begin,"ms"),a.dur=b.ensureUnit(a.dur,"ms"),h&&(a.calcMode="spline",a.keySplines=h.join(" "),a.keyTimes="0;1"),c&&(a.fill="freeze",i[e]=a.from,this.attr(i),g=b.quantity(a.begin||0).value,a.begin="indefinite"),f=this.elem("animate",b.extend({attributeName:e},a)),c&&setTimeout(function(){try{f._node.beginElement()}catch(b){i[e]=a.to,this.attr(i),f.remove()}}.bind(this),g),d&&f._node.addEventListener("beginEvent",function(){d.emit("animationBegin",{element:this,animate:f._node,params:a})}.bind(this)),f._node.addEventListener("endEvent",function(){d&&d.emit("animationEnd",{element:this,animate:f._node,params:a}),c&&(i[e]=a.to,this.attr(i),f.remove())}.bind(this))}a[e]instanceof Array?a[e].forEach(function(a){f.bind(this)(a,!1)}.bind(this)):f.bind(this)(a[e],c)}.bind(this)),this}function x(a){var c=this;this.svgElements=[];for(var d=0;d<a.length;d++)this.svgElements.push(new b.Svg(a[d]));Object.keys(b.Svg.prototype).filter(function(a){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(a)===-1}).forEach(function(a){c[a]=function(){var d=Array.prototype.slice.call(arguments,0);return c.svgElements.forEach(function(c){b.Svg.prototype[a].apply(c,d)}),c}})}var y=a.document;b.Svg=b.Class.extend({constructor:c,attr:d,elem:e,parent:f,root:g,querySelector:h,querySelectorAll:i,getNode:j,foreignObject:k,text:l,empty:m,remove:n,replace:o,append:p,classes:q,addClass:r,removeClass:s,removeAllClasses:t,height:u,width:v,animate:w}),b.Svg.isSupported=function(a){return y.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+a,"1.1")};var z={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};b.Svg.Easing=z,b.Svg.List=b.Class.extend({constructor:x})}(this||global,a),function(a,b){"use strict";function c(a,c,d,e,f,g){var h=b.extend({command:f?a.toLowerCase():a.toUpperCase()},c,g?{data:g}:{});d.splice(e,0,h)}function d(a,b){a.forEach(function(c,d){t[c.command.toLowerCase()].forEach(function(e,f){b(c,e,d,f,a)})})}function e(a,c){this.pathElements=[],this.pos=0,this.close=a,this.options=b.extend({},u,c)}function f(a){return void 0!==a?(this.pos=Math.max(0,Math.min(this.pathElements.length,a)),this):this.pos}function g(a){return this.pathElements.splice(this.pos,a),this}function h(a,b,d,e){return c("M",{x:+a,y:+b},this.pathElements,this.pos++,d,e),this}function i(a,b,d,e){return c("L",{x:+a,y:+b},this.pathElements,this.pos++,d,e),this}function j(a,b,d,e,f,g,h,i){return c("C",{x1:+a,y1:+b,x2:+d,y2:+e,x:+f,y:+g},this.pathElements,this.pos++,h,i),this}function k(a,b,d,e,f,g,h,i,j){return c("A",{rx:+a,ry:+b,xAr:+d,lAf:+e,sf:+f,x:+g,y:+h},this.pathElements,this.pos++,i,j),this}function l(a){var c=a.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(a,b){return b.match(/[A-Za-z]/)&&a.push([]),a[a.length-1].push(b),a},[]);"Z"===c[c.length-1][0].toUpperCase()&&c.pop();var d=c.map(function(a){var c=a.shift(),d=t[c.toLowerCase()];return b.extend({command:c},d.reduce(function(b,c,d){return b[c]=+a[d],b},{}))}),e=[this.pos,0];return Array.prototype.push.apply(e,d),Array.prototype.splice.apply(this.pathElements,e),this.pos+=d.length,this}function m(){var a=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(b,c){var d=t[c.command.toLowerCase()].map(function(b){return this.options.accuracy?Math.round(c[b]*a)/a:c[b]}.bind(this));return b+c.command+d.join(",")}.bind(this),"")+(this.close?"Z":"")}function n(a,b){return d(this.pathElements,function(c,d){c[d]*="x"===d[0]?a:b}),this}function o(a,b){return d(this.pathElements,function(c,d){c[d]+="x"===d[0]?a:b}),this}function p(a){return d(this.pathElements,function(b,c,d,e,f){var g=a(b,c,d,e,f);(g||0===g)&&(b[c]=g)}),this}function q(a){var c=new b.Svg.Path(a||this.close);return c.pos=this.pos,c.pathElements=this.pathElements.slice().map(function(a){return b.extend({},a)}),c.options=b.extend({},this.options),c}function r(a){var c=[new b.Svg.Path];return this.pathElements.forEach(function(d){d.command===a.toUpperCase()&&0!==c[c.length-1].pathElements.length&&c.push(new b.Svg.Path),c[c.length-1].pathElements.push(d)}),c}function s(a,c,d){for(var e=new b.Svg.Path(c,d),f=0;f<a.length;f++)for(var g=a[f],h=0;h<g.pathElements.length;h++)e.pathElements.push(g.pathElements[h]);return e}var t={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},u={accuracy:3};b.Svg.Path=b.Class.extend({constructor:e,position:f,remove:g,move:h,line:i,curve:j,arc:k,scale:n,translate:o,transform:p,parse:l,stringify:m,clone:q,splitByCommand:r}),b.Svg.Path.elementDescriptions=t,b.Svg.Path.join=s}(this||global,a),function(a,b){"use strict";function c(a,b,c,d){this.units=a,this.counterUnits=a===e.x?e.y:e.x,this.chartRect=b,this.axisLength=b[a.rectEnd]-b[a.rectStart],this.gridOffset=b[a.rectOffset],this.ticks=c,this.options=d}function d(a,c,d,e,f){var g=e["axis"+this.units.pos.toUpperCase()],h=this.ticks.map(this.projectValue.bind(this)),i=this.ticks.map(g.labelInterpolationFnc);h.forEach(function(j,k){var l,m={x:0,y:0};l=h[k+1]?h[k+1]-j:Math.max(this.axisLength-j,30),b.isFalseyButZero(i[k])&&""!==i[k]||("x"===this.units.pos?(j=this.chartRect.x1+j,m.x=e.axisX.labelOffset.x,"start"===e.axisX.position?m.y=this.chartRect.padding.top+e.axisX.labelOffset.y+(d?5:20):m.y=this.chartRect.y1+e.axisX.labelOffset.y+(d?5:20)):(j=this.chartRect.y1-j,m.y=e.axisY.labelOffset.y-(d?l:0),"start"===e.axisY.position?m.x=d?this.chartRect.padding.left+e.axisY.labelOffset.x:this.chartRect.x1-10:m.x=this.chartRect.x2+e.axisY.labelOffset.x+10),g.showGrid&&b.createGrid(j,k,this,this.gridOffset,this.chartRect[this.counterUnits.len](),a,[e.classNames.grid,e.classNames[this.units.dir]],f),g.showLabel&&b.createLabel(j,l,k,i,this,g.offset,m,c,[e.classNames.label,e.classNames[this.units.dir],"start"===g.position?e.classNames[g.position]:e.classNames.end],d,f))}.bind(this))}var e=(a.window,a.document,{x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}});b.Axis=b.Class.extend({constructor:c,createGridAndLabels:d,projectValue:function(a,b,c){throw new Error("Base axis can't be instantiated!")},invert:function(){throw new Error("Base axis can't be instantiated!")}}),b.Axis.units=e}(this||global,a),function(a,b){"use strict";function c(a,c,d,e){var f=e.highLow||b.getHighLow(c,e,a.pos);this.bounds=b.getBounds(d[a.rectEnd]-d[a.rectStart],f,e.scaleMinSpace||20,e.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},b.AutoScaleAxis["super"].constructor.call(this,a,d,this.bounds.values,e)}function d(a){return this.axisLength*(+b.getMultiValue(a,this.units.pos)-this.bounds.min)/this.bounds.range}a.window,a.document;b.AutoScaleAxis=b.Axis.extend({constructor:c,projectValue:d})}(this||global,a),function(a,b){"use strict";function c(a,c,d,e){var f=e.highLow||b.getHighLow(c,e,a.pos);this.divisor=e.divisor||1,this.ticks=e.ticks||b.times(this.divisor).map(function(a,b){return f.low+(f.high-f.low)/this.divisor*b}.bind(this)),this.ticks.sort(function(a,b){return a-b}),this.range={min:f.low,max:f.high},this.rangeValue=this.range.max-this.range.min,b.FixedScaleAxis["super"].constructor.call(this,a,d,this.ticks,e),this.stepLength=this.axisLength/this.divisor}function d(a){return this.axisLength*(+b.getMultiValue(a,this.units.pos)-this.range.min)/this.rangeValue}function e(a){const b=(a-this.chartRect[this.units.rectStart])/this.axisLength,c=b*this.rangeValue+this.range.min;return c}a.window,a.document;b.FixedScaleAxis=b.Axis.extend({constructor:c,projectValue:d,invert:e})}(this||global,a),function(a,b){"use strict";function c(a,c,d,e){b.StepAxis["super"].constructor.call(this,a,d,e.ticks,e);var f=Math.max(1,e.ticks.length-(e.stretch?1:0));this.stepLength=this.axisLength/f}function d(a,b){return this.stepLength*b}a.window,a.document;b.StepAxis=b.Axis.extend({constructor:c,projectValue:d})}(this||global,a),function(a,b){"use strict";function c(a){var c=b.normalizeData(this.data,a.reverseData,!0);this.svg=b.createSvg(this.container,a.width,a.height,a.classNames.chart);var e,f,g=this.svg.elem("g").addClass(a.classNames.gridGroup),i=this.svg.elem("g"),j=this.svg.elem("g").addClass(a.classNames.labelGroup),k=b.createChartRect(this.svg,a,h.padding);e=void 0===a.axisX.type?new b.StepAxis(b.Axis.units.x,c.normalized.series,k,b.extend({},a.axisX,{ticks:c.normalized.labels,stretch:a.fullWidth})):a.axisX.type.call(b,b.Axis.units.x,c.normalized.series,k,a.axisX),f=void 0===a.axisY.type?new b.AutoScaleAxis(b.Axis.units.y,c.normalized.series,k,b.extend({},a.axisY,{high:b.isNumeric(a.high)?a.high:a.axisY.high,low:b.isNumeric(a.low)?a.low:a.axisY.low})):a.axisY.type.call(b,b.Axis.units.y,c.normalized.series,k,a.axisY),e.createGridAndLabels(g,j,this.supportsForeignObject,a,this.eventEmitter),f.createGridAndLabels(g,j,this.supportsForeignObject,a,this.eventEmitter),a.showGridBackground&&b.createGridBackground(g,k,a.classNames.gridBackground,this.eventEmitter);var l={};c.raw.series.forEach(function(d,g){var h=i.elem("g");h.attr({"ct:series-name":d.name,"ct:meta":b.serialize(d.meta)}),h.addClass([a.classNames.series,d.className||a.classNames.series+"-"+b.alphaNumerate(g)].join(" "));var j=[],m=[];c.normalized.series[g].forEach(function(a,h){var i={x:k.x1+e.projectValue(a,h,c.normalized.series[g]),y:k.y1-f.projectValue(a,h,c.normalized.series[g])};j.push(i.x,i.y),m.push({value:a,valueIndex:h,meta:b.getMetaData(d,h)})}.bind(this));var n={lineSmooth:b.getSeriesOption(d,a,"lineSmooth"),showPoint:b.getSeriesOption(d,a,"showPoint"),pointRadius:b.getSeriesOption(d,a,"pointRadius"),showLine:b.getSeriesOption(d,a,"showLine"),showArea:b.getSeriesOption(d,a,"showArea"),areaBase:b.getSeriesOption(d,a,"areaBase")},o="function"==typeof n.lineSmooth?n.lineSmooth:n.lineSmooth?b.Interpolation.monotoneCubic():b.Interpolation.none(),p=o(j,m);if(n.showPoint&&p.pathElements.forEach(function(c){var i=h.elem("circle",{cx:c.x,cy:c.y,r:n.pointRadius},a.classNames.point).attr({"ct:value":[c.data.value.x,c.data.value.y].filter(b.isNumeric).join(","),"ct:meta":b.serialize(c.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:c.data.value,index:c.data.valueIndex,meta:c.data.meta,series:d,seriesIndex:g,axisX:e,axisY:f,group:h,element:i,x:c.x,y:c.y})}.bind(this)),n.showLine){var q=h.elem("path",{d:p.stringify()},a.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:c.normalized.series[g],path:p.clone(),chartRect:k,index:g,series:d,seriesIndex:g,seriesMeta:d.meta,axisX:e,axisY:f,group:h,element:q})}if(n.showArea&&f.range){var r=Math.max(Math.min(n.areaBase,f.range.max),f.range.min),s=k.y1-f.projectValue(r);p.splitByCommand("M").filter(function(a){return a.pathElements.length>1}).map(function(a){var b=a.pathElements[0],c=a.pathElements[a.pathElements.length-1];return a.clone(!0).position(0).remove(1).move(b.x,s).line(b.x,b.y).position(a.pathElements.length+1).line(c.x,s)}).forEach(function(b){var i=h.elem("path",{d:b.stringify()},a.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:c.normalized.series[g],path:b.clone(),series:d,seriesIndex:g,axisX:e,axisY:f,chartRect:k,index:g,group:h,element:i})}.bind(this))}l[d.name]=p}.bind(this)),a.band&&d(i,l[a.band.top],l[a.band.bottom]),this.eventEmitter.emit("created",{bounds:f.bounds,chartRect:k,axisX:e,axisY:f,svg:this.svg,options:a})}function d(a,c,d){var e=a.elem("g"),h=f.path(c.stringify()),i=f.path(d.stringify()),j=g.intersect(h,i);if(j.points)for(var k=c.pathElements,l=d.pathElements,m=0,n=0,o=0;o<j.points.length;o++){for(var p=j.points[o],q=[];m<k.length;){var r=k[m];if(r.x>p.x)break;q.push(r),m++}for(var s=[];n<l.length;){var t=l[n];if(t.x>p.x)break;s.push(t),n++}var u=new b.Svg.Path;if(o>0){var v=j.points[o-1];u.move(v.x,v.y),u.line(q[0].x,q[0].y)}else u.move(q[0].x,q[0].y);for(var w=1;w<q.length;w++)u.pathElements.push(q[w]),u.pos++;u.line(p.x,p.y),u.line(s[s.length-1].x,s[s.length-1].y);for(var w=s.length-1;w>=1;w--){var x=s[w-1];u.curve(s[w].x2,s[w].y2,s[w].x1,s[w].y1,x.x,x.y)}if(o>0){var x=l[n-s.length-1];u.curve(s[0].x2,s[0].y2,s[0].x1,s[0].y1,x.x,x.y);var v=j.points[o-1];u.line(v.x,v.y)}else u.line(q[0].x,q[0].y);var y=q[0].y>s[0].y?"green":"red";e.elem("path",{fill:y,d:u.stringify()})}}function e(a,c,d,e){b.Line["super"].constructor.call(this,a,c,h,b.extend({},h,d),e)}var f=(a.window,a.document,exports.ShapeInfo),g=exports.Intersection,h={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:b.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:b.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,pointRadius:4,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};b.Line=b.Base.extend({constructor:e,createChart:c})}(this||global,a),function(a,b){"use strict";function c(a){var c,d;a.distributeSeries?(c=b.normalizeData(this.data,a.reverseData,a.horizontalBars?"x":"y"),c.normalized.series=c.normalized.series.map(function(a){return[a]})):c=b.normalizeData(this.data,a.reverseData,a.horizontalBars?"x":"y"),this.svg=b.createSvg(this.container,a.width,a.height,a.classNames.chart+(a.horizontalBars?" "+a.classNames.horizontalBars:""));var f=this.svg.elem("g").addClass(a.classNames.gridGroup),g=this.svg.elem("g"),h=this.svg.elem("g").addClass(a.classNames.labelGroup);if(!a.stackBars||"accumulate"!==a.stackMode&&a.stackMode||0===c.normalized.series.length)d=b.getHighLow(c.normalized.series,a,a.horizontalBars?"x":"y");else{var i=b.serialMap(c.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(a){return a}).reduce(function(a,b){return{x:a.x+(b&&b.x)||0,y:a.y+(b&&b.y)||0}},{x:0,y:0})});d=b.getHighLow([i],a,a.horizontalBars?"x":"y")}d.high=+a.high||(0===a.high?0:d.high),d.low=+a.low||(0===a.low?0:d.low);var j,k,l,m,n,o=b.createChartRect(this.svg,a,e.padding);k=a.distributeSeries&&a.stackBars?c.normalized.labels.slice(0,1):c.normalized.labels,a.horizontalBars?(j=m=void 0===a.axisX.type?new b.AutoScaleAxis(b.Axis.units.x,c.normalized.series,o,b.extend({},a.axisX,{highLow:d,referenceValue:0})):a.axisX.type.call(b,b.Axis.units.x,c.normalized.series,o,b.extend({},a.axisX,{highLow:d,referenceValue:0})),l=n=void 0===a.axisY.type?new b.StepAxis(b.Axis.units.y,c.normalized.series,o,{ticks:k}):a.axisY.type.call(b,b.Axis.units.y,c.normalized.series,o,a.axisY)):(l=m=void 0===a.axisX.type?new b.StepAxis(b.Axis.units.x,c.normalized.series,o,{ticks:k}):a.axisX.type.call(b,b.Axis.units.x,c.normalized.series,o,a.axisX),j=n=void 0===a.axisY.type?new b.AutoScaleAxis(b.Axis.units.y,c.normalized.series,o,b.extend({},a.axisY,{highLow:d,referenceValue:0})):a.axisY.type.call(b,b.Axis.units.y,c.normalized.series,o,b.extend({},a.axisY,{highLow:d,referenceValue:0})));var p=a.horizontalBars?o.x1+j.projectValue(0):o.y1-j.projectValue(0),q=[];l.createGridAndLabels(f,h,this.supportsForeignObject,a,this.eventEmitter),j.createGridAndLabels(f,h,this.supportsForeignObject,a,this.eventEmitter),a.showGridBackground&&b.createGridBackground(f,o,a.classNames.gridBackground,this.eventEmitter),c.raw.series.forEach(function(d,e){var f,h,i=e-(c.raw.series.length-1)/2;f=a.distributeSeries&&!a.stackBars?l.axisLength/c.normalized.series.length/2:a.distributeSeries&&a.stackBars?l.axisLength/2:l.axisLength/c.normalized.series[e].length/2,h=g.elem("g"),h.attr({"ct:series-name":d.name,"ct:meta":b.serialize(d.meta)}),h.addClass([a.classNames.series,d.className||a.classNames.series+"-"+b.alphaNumerate(e)].join(" ")),c.normalized.series[e].forEach(function(g,k){var r,s,t,u;if(u=a.distributeSeries&&!a.stackBars?e:a.distributeSeries&&a.stackBars?0:k,r=a.horizontalBars?{x:o.x1+j.projectValue(g&&g.x?g.x:0,k,c.normalized.series[e]),y:o.y1-l.projectValue(g&&g.y?g.y:0,u,c.normalized.series[e])}:{x:o.x1+l.projectValue(g&&g.x?g.x:0,u,c.normalized.series[e]),y:o.y1-j.projectValue(g&&g.y?g.y:0,k,c.normalized.series[e])},l instanceof b.StepAxis&&(l.options.stretch||(r[l.units.pos]+=f*(a.horizontalBars?-1:1)),r[l.units.pos]+=a.stackBars||a.distributeSeries?0:i*a.seriesBarDistance*(a.horizontalBars?-1:1)),t=q[k]||p,q[k]=t-(p-r[l.counterUnits.pos]),void 0!==g){var v={};v[l.units.pos+"1"]=r[l.units.pos],v[l.units.pos+"2"]=r[l.units.pos],!a.stackBars||"accumulate"!==a.stackMode&&a.stackMode?(v[l.counterUnits.pos+"1"]=p,v[l.counterUnits.pos+"2"]=r[l.counterUnits.pos]):(v[l.counterUnits.pos+"1"]=t,v[l.counterUnits.pos+"2"]=q[k]),v.x1=Math.min(Math.max(v.x1,o.x1),o.x2),v.x2=Math.min(Math.max(v.x2,o.x1),o.x2),v.y1=Math.min(Math.max(v.y1,o.y2),o.y1),v.y2=Math.min(Math.max(v.y2,o.y2),o.y1);var w=b.getMetaData(d,k);s=h.elem("line",v,a.classNames.bar).attr({"ct:value":[g.x,g.y].filter(b.isNumeric).join(","),"ct:meta":b.serialize(w)}),this.eventEmitter.emit("draw",b.extend({type:"bar",value:g,index:k,meta:w,series:d,seriesIndex:e,axisX:m,axisY:n,chartRect:o,group:h,element:s},v))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:j.bounds,chartRect:o,axisX:m,axisY:n,svg:this.svg,options:a})}function d(a,c,d,f){b.Bar["super"].constructor.call(this,a,c,e,b.extend({},e,d),f)}var e=(a.window,a.document,{axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:b.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{
x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:b.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}});b.Bar=b.Base.extend({constructor:d,createChart:c})}(this||global,a),function(a,b){"use strict";function c(a,b,c){var d=b.x>a.x;return d&&"explode"===c||!d&&"implode"===c?"start":d&&"implode"===c||!d&&"explode"===c?"end":"middle"}function d(a){var d,e,g,h,i,j=b.normalizeData(this.data),k=[],l=a.startAngle;this.svg=b.createSvg(this.container,a.width,a.height,a.donut?a.classNames.chartDonut:a.classNames.chartPie),e=b.createChartRect(this.svg,a,f.padding),g=Math.min(e.width()/2,e.height()/2),i=a.total||j.normalized.series.reduce(function(a,b){return a+b},0);var m=b.quantity(a.donutWidth);"%"===m.unit&&(m.value*=g/100),g-=a.donut&&!a.donutSolid?m.value/2:0,h="outside"===a.labelPosition||a.donut&&!a.donutSolid?g:"center"===a.labelPosition?0:a.donutSolid?g-m.value/2:g/2,h+=a.labelOffset;var n={x:e.x1+e.width()/2,y:e.y2+e.height()/2},o=1===j.raw.series.filter(function(a){return a.hasOwnProperty("value")?0!==a.value:0!==a}).length;j.raw.series.forEach(function(a,b){k[b]=this.svg.elem("g",null,null)}.bind(this)),a.showLabel&&(d=this.svg.elem("g",null,null)),j.raw.series.forEach(function(e,f){if(0!==j.normalized.series[f]||!a.ignoreEmptyValues){k[f].attr({"ct:series-name":e.name}),k[f].addClass([a.classNames.series,e.className||a.classNames.series+"-"+b.alphaNumerate(f)].join(" "));var p=i>0?l+j.normalized.series[f]/i*360:0,q=Math.max(0,l-(0===f||o?0:.2));p-q>=359.99&&(p=q+359.99);var r,s,t,u=b.polarToCartesian(n.x,n.y,g,q),v=b.polarToCartesian(n.x,n.y,g,p),w=new b.Svg.Path(!a.donut||a.donutSolid).move(v.x,v.y).arc(g,g,0,p-l>180,0,u.x,u.y);a.donut?a.donutSolid&&(t=g-m.value,r=b.polarToCartesian(n.x,n.y,t,l-(0===f||o?0:.2)),s=b.polarToCartesian(n.x,n.y,t,p),w.line(r.x,r.y),w.arc(t,t,0,p-l>180,1,s.x,s.y)):w.line(n.x,n.y);var x=a.classNames.slicePie;a.donut&&(x=a.classNames.sliceDonut,a.donutSolid&&(x=a.classNames.sliceDonutSolid));var y=k[f].elem("path",{d:w.stringify()},x);if(y.attr({"ct:value":j.normalized.series[f],"ct:meta":b.serialize(e.meta)}),a.donut&&!a.donutSolid&&(y._node.style.strokeWidth=m.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:j.normalized.series[f],totalDataSum:i,index:f,meta:e.meta,series:e,group:k[f],element:y,path:w.clone(),center:n,radius:g,startAngle:l,endAngle:p}),a.showLabel){var z;z=1===j.raw.series.length?{x:n.x,y:n.y}:b.polarToCartesian(n.x,n.y,h,l+(p-l)/2);var A;A=j.normalized.labels&&!b.isFalseyButZero(j.normalized.labels[f])?j.normalized.labels[f]:j.normalized.series[f];var B=a.labelInterpolationFnc(A,f);if(B||0===B){var C=d.elem("text",{dx:z.x,dy:z.y,"text-anchor":c(n,z,a.labelDirection)},a.classNames.label).text(""+B);this.eventEmitter.emit("draw",{type:"label",index:f,group:d,element:C,text:""+B,x:z.x,y:z.y})}}l=p}}.bind(this)),this.eventEmitter.emit("created",{chartRect:e,svg:this.svg,options:a})}function e(a,c,d,e){b.Pie["super"].constructor.call(this,a,c,f,b.extend({},f,d),e)}var f=(a.window,a.document,{width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:b.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1});b.Pie=b.Base.extend({constructor:e,createChart:d,determineAnchorPosition:c})}(this||global,a),a});
//# sourceMappingURL=chartist.min.js.map